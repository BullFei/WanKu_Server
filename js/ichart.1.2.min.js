;(function(window){var ua=navigator.userAgent.toLowerCase(),mc=function(e){return e.test(ua)},ts=Object.prototype.toString,isOpera=mc(/opera/),isChrome=mc(/\bchrome\b/),isWebKit=mc(/webkit/),isSafari=!isChrome&&mc(/safari/),isIE=!isOpera&&mc(/msie/),supportCanvas=!!document.createElement('canvas').getContext,isGecko=!isWebKit&&mc(/gecko/),isMobile=mc(/ipod|ipad|iphone|android/gi),arithmetic={Linear:function(t,b,c,d){return c*t/d+b;},Cubic:{easeIn:function(t,b,c,d){return c*(t/=d)*t*t+b;},easeOut:function(t,b,c,d){return c*((t=t/d-1)*t*t+1)+b;},easeInOut:function(t,b,c,d){if((t/=d/2)<1)
return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b;}}};var iChart_=(function(window){var isReady=false,readyBound=false,readyList=[],DOMContentLoaded=(function(){if(document.addEventListener){return function(){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,false);ready();};}else if(document.attachEvent){return function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",DOMContentLoaded);ready();}};}})(),doScrollCheck=function(){if(isReady){return;}
try{document.documentElement.doScroll("left");}catch(e){setTimeout(doScrollCheck,1);return;}
ready();},ready=function(){if(!isReady){isReady=true;for(var i=0;i<readyList.length;i++){readyList[i].call(document);}
readyList=[];}},bindReady=function(){if(readyBound)
return;readyBound=true;if(document.readyState==="complete"){return setTimeout(ready,1);}
if(document.addEventListener){document.addEventListener("DOMContentLoaded",DOMContentLoaded,false);window.addEventListener("load",ready,false);}else if(document.attachEvent){document.attachEvent("onreadystatechange",DOMContentLoaded);window.attachEvent("onload",ready);var toplevel=false;try{toplevel=window.frameElement==null;}catch(e){}
if(document.documentElement.doScroll&&toplevel){doScrollCheck();}}},bind=function(fn){bindReady();if(isReady)
fn.call(document,_);else
readyList.push(function(){return fn.call(this);});},_=function(selector){if(!selector||selector.nodeType){return selector;}
if(typeof selector==="string"){if(selector.indexOf("#")!=-1){selector=selector.substring(1);}
return document.getElementById(selector);}
if(typeof selector==="function"){bind(selector);}};_.apply=function(d,e){if(d&&e&&typeof e=="object"){for(var a in e){if(typeof e[a]!='undefined')
d[a]=e[a]}}
if(!e&&d){var clone={};for(var a in d){clone[a]=d[a]}
return clone;}
return d};_.apply(_,{version:"1.0",email:'taylor@ichartjs.com',isEmpty:function(C,e){return C===null||C===undefined||((_.isArray(C)&&!C.length))||(!e?C==="":false)},isArray:function(e){return ts.apply(e)==="[object Array]"},isDate:function(e){return ts.apply(e)==="[object Date]"},isObject:function(e){return!!e&&ts.apply(e)==="[object Object]"},isFunction:function(e){return ts.apply(e)==="[object Function]"},isNumber:function(e){return typeof e==="number"&&isFinite(e)},isString:function(e){return typeof e==="string"},isBoolean:function(e){return typeof e==="boolean"},isFalse:function(e){return typeof e==="boolean"&&!e;},isElement:function(e){return e?!!e.tagName:false},isDefined:function(e){return typeof e!=="undefined"}});_.applyIf=function(d,e){if(d&&_.isObject(e)){for(var a in e){if(_.isDefined(e[a])&&!_.isDefined(d[a]))
d[a]=e[a]}}
if(!e&&d){return _.apply(d);}
return d};_.merge=function(d,e,f){if(d&&_.isObject(e)){for(var a in e){if(_.isDefined(e[a])){if(_.isObject(e[a])){if(_.isObject(d[a])){_.merge(d[a],e[a]);}else{d[a]=_.clone(e[a],true);}}else{d[a]=e[a];}}}
if(_.isObject(f)){return _.merge(d,f);}}
return d;};_.clone=function(a,e,deep){var d={};if(_.isArray(a)&&_.isObject(e)){for(var i=0;i<a.length;i++){if(deep&&_.isObject(e[a[i]]))
d[a[i]]=_.clone(e[a[i]],deep);else
d[a[i]]=e[a[i]];}}else if(_.isObject(a)){for(var b in a){if(e&&_.isObject(a[b])&&!(a[b].ICHARTJS_OBJECT))
d[b]=_.clone(a[b],e);else
d[b]=a[b];}}
return d;};_.override=function(e,D){if(e&&D){var C=e.prototype;_.apply(C,D);if(_.isIE&&D.hasOwnProperty("toString")){C.toString=D.toString}}};_.extend=function(){var C=function(E){for(var D in E){this[D]=E[D];}};var e=Object.prototype.constructor;return function(G,O){var J=function(){G.apply(this,arguments);}
var E=function(){},H,D=G.prototype;E.prototype=D;H=J.prototype=new E();H.constructor=J;J.superclass=D;if(D.constructor==e){D.constructor=G;}
J.override=function(F){_.override(J,F);};H.superclass=H.supr=(function(){return D;});H.override=C;_.override(J,O);J.extend=function(F){return _.extend(J,F)};J.plugin_={};J.plugin=function(M,F){if(_.isString(M)&&_.isFunction(F))
J.plugin_[M]=F;};return J;}}();var sin=Math.sin,cos=Math.cos,atan=Math.atan,tan=Math.tan,acos=Math.acos,sqrt=Math.sqrt,abs=Math.abs,pi=Math.PI,pi2=2*pi,ceil=Math.ceil,round=Math.round,floor=Math.floor,max=Math.max,min=Math.min,pF=parseFloat,Registry={},Repository={},factor=function(v,w){if(v==0)
return v;var M=abs(v),f=0.1;if(M>1){while(M>1){M=M/10;f=f*10;}
return floor(v/f+w)*f;}else{f=1;while(M<1){M=M*10;f=f*10;}
return round(v*f+w)/f;}},colors={white:'rgb(255,255,255)',green:'rgb(0,128,0)',gray:'rgb(80,80,80)',red:'rgb(255,0,0)',blue:'rgb(0,0,255)',yellow:'rgb(255,255,0)',black:'rgb(0,0,0)'},hex2Rgb=function(hex){hex=hex.replace(/#/g,"").replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3");return(hex.length==7?'rgba(':'rgb(')+parseInt(hex.substring(0,2),16)+','+parseInt(hex.substring(2,4),16)+','+parseInt(hex.substring(4,6),16)+(hex.length==7?',0.'+hex.substring(6,7)+')':')');},i2hex=function(N){return('0'+parseInt(N).toString(16)).slice(-2);},rgb2Hex=function(rgb){var m=rgb.match(/rgb\((\d+),(\d+),(\d+)\)/);return m?('#'+i2hex(m[1])+i2hex(m[2])+i2hex(m[3])).toUpperCase():null;},c2a=function(rgb){var result=/rgb\((\w*),(\w*),(\w*)\)/.exec(rgb);if(result){return new Array(result[1],result[2],result[3]);}
result=/rgba\((\w*),(\w*),(\w*),(.*)\)/.exec(rgb);if(result){return new Array(result[1],result[2],result[3],result[4]);}
throw new Error("invalid colors value '"+rgb+"'");},toHsv=function(r,g,b){if(_.isArray(r)){g=r[1];b=r[2];r=r[0];}
r=r/255;g=g/255;b=b/255;var m=max(max(r,g),b),mi=min(min(r,g),b),dv=m-mi;if(dv==0){return new Array(0,0,m);}
var h;if(r==m){h=(g-b)/dv;}else if(g==m){h=(b-r)/dv+2;}else if(b==m){h=(r-g)/dv+4;}
h*=60;if(h<0)
h+=360;return new Array(h,dv/m,m);},toRgb=function(color){if(!color)
return color;color=color.replace(/\s/g,'').toLowerCase();if(/^rgb\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3}\)$/.exec(color)){return color;}
if(/^rgba\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},(0(\.[0-9])?|1(\.0)?)\)$/.exec(color)){return color;}
if(/^#(([a-fA-F0-9]{6,7})|([a-fA-F0-9]{3}))$/.exec(color))
return hex2Rgb(color);if(colors[color])
return colors[color];throw new Error("invalid colors value '"+color+"'");},hsv2Rgb=function(h,s,v,a){if(_.isArray(h)){a=s;s=h[1];v=h[2];h=h[0];}
var r,g,b,hi=floor(h/60)%6,f=h/60-hi,p=v*(1-s),q=v*(1-s*f),t=v*(1-s*(1-f));switch(hi){case 0:r=v;g=t;b=p;break;case 1:r=q;g=v;b=p;break;case 2:r=p;g=v;b=t;break;case 3:r=p;g=q;b=v;break;case 4:r=t;g=p;b=v;break;case 5:r=v;g=p;b=q;break;}
return'rgb'+(a?'a':'')+'('+round(r*255)+','+round(g*255)+','+round(b*255)+(a?','+a+')':')');},s_inc=0.05,v_inc=0.14,inc=function(v,iv){iv=iv||v_inc;if(v>0.5){return iv-(1-v)/10;}else if(v>0.1){return iv-0.16+v/5;}else{return v>iv?iv:v/2;}},anole=function(d,rgb,iv,is){if(!rgb)
return rgb;rgb=c2a(toRgb(rgb));var hsv=toHsv(rgb);is=is!=0?(is||s_inc):is;hsv[1]-=is;if(d){hsv[2]-=inc(hsv[2],iv);hsv[1]=_.upTo(hsv[1],1);hsv[2]=_.lowTo(hsv[2],0);}else{hsv[2]+=inc((1-hsv[2]),iv);hsv[1]=_.lowTo(hsv[1],0);hsv[2]=_.upTo(hsv[2],1);}
return hsv2Rgb(hsv,rgb[3]);},topi=function(v){if(v==0)return 0;if(v%pi2==0)return pi2;return v%pi2;};_.apply(_,{getFont:function(w,s,f,u){return w+" "+s+(u||"px")+" "+f;},getDoc:function(){var doc=window.contentWindow?window.contentWindow.document:window.contentDocument?window.contentDocument:window.document;return doc;},DefineAbstract:function(M,H){if(!H[M])
throw new Error("Cannot instantiate the type '"+H.type+"'.you must implements it with method '"+M+"'.");},getAA:function(tf){if(tf=='linear')
return arithmetic.Linear;if(tf=='easeInOut'||tf=='easeIn'||tf=='easeOut')
return arithmetic.Cubic[tf];return arithmetic.Linear;},noConflict:function(){return iChart_;},plugin:function(t,m,f){if(_.isFunction(t))
t.plugin(m,f);},parsePadding:function(s,d){s=s||0;if(_.isNumber(s))
return new Array(s,s,s,s);if(_.isArray(s))
return s;d=d||0;s=s.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g,/\s/).replace(/\s/g,',').split(",");if(s.length==1){s[0]=s[1]=s[2]=s[3]=pF(s[0])||d;}else if(s.length==2){s[0]=s[2]=pF(s[0])||d;s[1]=s[3]=pF(s[1])||d;}else if(s.length==3){s[0]=pF(s[0])||d;s[1]=s[3]=pF(s[1])||d;s[2]=pF(s[2])||d;}else{s[0]=pF(s[0])||d;s[1]=pF(s[1])||d;s[2]=pF(s[2])||d;s[3]=pF(s[3])||d;}
return s;},distanceP2P:function(x1,y1,x2,y2){return sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1));},atan2Radian:function(ox,oy,x,y){if(ox==x){if(y>oy)
return pi/2;return pi*3/2;}
if(oy==y){if(x>ox)
return 0;return pi;}
var q=_.quadrant(ox,oy,x,y),r=atan(abs((oy-y)/(ox-x)));return q?(q==3?pi2:pi)+(q==2?r:-r):r;},angle2Radian:function(a){return a*pi/180;},radian2Angle:function(r){return r*180/pi;},quadrant:function(ox,oy,x,y){if(ox<x){if(oy<y){return 0;}else{return 3;}}else{if(oy<y){return 1;}else{return 2;}}},toPI2:function(a){while(a<0)
a+=pi2;return a;},visible:function(s,e,f){if(s>=e)return[];var q1=_.quadrantd(s),q2=_.quadrantd(e);if((q1==2||q1==3)&&(q2==2||q2==3)&&((e-s)<pi))return[];s=_.toPI2(s);e=_.toPI2(e);if(e<=s){e+=pi2;}
if(s>pi){s=pi2;}
else if(e>pi2){return[{s:s,e:pi,f:f},{s:pi2,e:e,f:f}]}else if(e>pi){e=pi;}
return{s:s,e:e,f:f};},quadrantd:function(a){if(a==0)return 0;if(a%pi2==0)return 3;while(a<0)
a+=pi2;return ceil(2*(a%pi2)/pi)-1;},upTo:function(u,v){return v>u?u:v;},lowTo:function(l,v){return v<l?l:v;},between:function(l,u,v){return l>u?_.between(u,l,v):(v>u?u:v<l?l:v);},inRange:function(l,u,v){return u>v&&l<v;},angleInRange:function(l,u,v){v=(v-l);v=v<0?v+pi2:v;v=v%pi2;return(u-l)>v;},angleZInRange:function(l,u,v){return u<l?(v>l||v<u):(u>v&&l<v);},inRangeClosed:function(l,u,v){return u>=v&&l<=v;},inEllipse:function(x,y,a,b){return(x*x/a/a+y*y/b/b)<=1;},p2Point:function(x,y,a,C){return{x:x+cos(a)*C,y:y+sin(a)*C}},toRgb:toRgb,toRgba:function(c,o){var rgb=c2a(toRgb(c));return'rgba('+rgb[0]+','+rgb[1]+','+rgb[2]+','+o+')';},vectorP2P:function(x,y,radian){if(!radian){y=_.angle2Radian(y);x=_.angle2Radian(x);}
y=sin(y);return{x:y*sin(x),y:y*cos(x)}},uid:function(k){return(k||'ichartjs')+'_'+ceil(Math.random()*10000)+new Date().getTime().toString().substring(4);},register:function(c){if(_.isString(c)){Repository[c.toLowerCase()]=c;}else{var id=c.get('id');if(!id||id==''){id=_.uid(c.type);while(Registry[id]){id=_.uid(c.type);}
c.push('id',id);}
if(Registry[id]){throw new Error("exist reduplicate id :"+id);}
c.id=id;Registry[id]=c;}},create:function(C){if(!C.type||!Repository[C.type]){throw new Error("TypeNotFoundException["+C.type+"]");}
return new _[Repository[C.type]](C);},get:function(id){return Registry[id];},isPercent:function(v){return _.isString(v)&&v.match(/(.*)%/);},parsePercent:function(v,f){if(_.isString(v)){v=v.match(/(.*)%/);if(v){v=f?floor(pF(v[1])*f/100):v[1]/100;}}
return(!v||v<=0||v>f)?f:v;},parseFloat:function(v,d){if(!_.isNumber(v)){v=pF(v);if(!_.isNumber(v))
throw new Error("["+d+"]="+v+"is not a valid number.");}
return v;},ceil:function(max){return factor(max,1);},floor:function(max,f){return factor(max,-1);},_2D:'2d',_3D:'3d',light:function(rgb,iv,is){return anole(false,rgb,iv,is);},dark:function(rgb,iv,is){return anole(true,rgb,iv,is);},fixPixel:function(v){return _.isNumber(v)?v:pF(v.replace('px',""))||0;},toPixel:function(v){return _.isNumber(v)?v+'px':_.fixPixel(v)+'px';},emptyFn:function(){return true;},supportCanvas:supportCanvas,isOpera:isOpera,isWebKit:isWebKit,isChrome:isChrome,isSafari:isSafari,isIE:isIE,isGecko:isGecko,isMobile:isMobile,touch:"ontouchend"in document,FRAME:isMobile?30:60});_.Assert={isTrue:function(v,cause){if(v!==true)
throw new Error(cause);}};_.requestAnimFrame=(function(){var raf=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1000/60);};return function(f){raf(f)}})();_.Event={addEvent:function(ele,type,fn,useCapture){if(ele.addEventListener)
ele.addEventListener(type,fn,useCapture);else if(ele.attachEvent)
ele.attachEvent('on'+type,fn);else
ele['on'+type]=fn;},fix:function(e){if(typeof(e)=='undefined'){e=window.event;}
var E={target:e.target,pageX:e.pageX,pageY:e.pageY,offsetX:e.offsetX,offsetY:e.offsetY,stopPropagation:false,event:e};if(typeof(e.offsetX)=='undefined'){if(!e.target){E.target=e.srcElement||document;}
if(e.targetTouches){E.pageX=e.targetTouches[0].pageX;E.pageY=e.targetTouches[0].pageY;}
if(E.pageX==null&&e.clientX!=null){var doc=document.documentElement,body=document.body;E.pageX=e.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);E.pageY=e.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0);}
var x=0,y=0,obj=e.target;while(obj!=document.body&&obj){x+=obj.offsetLeft-(obj.scrollLeft||0);y+=obj.offsetTop;obj=obj.offsetParent;}
E.offsetX=E.pageX-x;E.offsetY=E.pageY-y;}
E.x=E.offsetX;E.y=E.offsetY;if(!e.stopPropagation){e.stopPropagation=function(){window.event.cancelBubble=true;}}
return E;}};return _;})(window);Array.prototype.each=function(f,s){var j=this.length,r;for(var i=0;i<j;i++){r=s?f.call(s,this[i],i):f(this[i],i);if(typeof r==="boolean"&&!r){break}};return this;};Array.prototype.eachAll=function(f,s){this.each(function(d,i){if(iChart_.isArray(d)){return d.eachAll(f,s);}else{return s?f.call(s,d,i):f(d,i);}},s);};Array.prototype.sor=function(f){var _=this,L=_.length-1,T;for(var i=0;i<L;i++){for(var j=L;j>i;j--){if(f?!f(_[j],_[j-1]):(_[j]<_[j-1])){T=_[j];_[j]=_[j-1];_[j-1]=T;}}}};window.iChart=iChart_;if(!window.$){window.$=window.iChart;}})(window);;(function($){$.Element=function(config){var _=this._();_.type='element';_.ICHARTJS_OBJECT=true;$.DefineAbstract('configure',_);$.DefineAbstract('afterConfiguration',_);_.options={};_.set({border:{enable:false,color:'#BCBCBC',style:'solid',width:1,radius:0},shadow:false,shadow_color:'#666666',shadow_blur:4,shadow_offsetx:0,shadow_offsety:0});_.W='width';_.H='height';_.O='top';_.B='bottom';_.L='left';_.R='right';_.C='center';_.X='originx';_.Y='originy';_.variable={};_.events={'mouseup':[],'touchstart':[],'touchmove':[],'touchend':[],'mousedown':[],'dblclick':[]};_.registerEvent('initialize');_.initialization=false;_.configure.apply(_,Array.prototype.slice.call(arguments,1));_.default_=$.clone(_.options,true);_.set(config);_.afterConfiguration(_);}
$.Element.prototype={_:function(){return this},afterConfiguration:function(_){if($.isObject(_.get('listeners'))){for(var e in _.get('listeners')){_.on(e,_.get('listeners')[e]);}}
_.initialize();_.fireEvent(_,'initialize',[_]);},registerEvent:function(){for(var i=0;i<arguments.length;i++){this.events[arguments[i]]=[];}},fireString:function(socpe,name,args,s){var t=this.fireEvent(socpe,name,args);return $.isString(t)?t:(t!==true&&$.isDefined(t)?t.toString():s);},fireEvent:function(socpe,name,args){var L=this.events[name].length;if(L==1)
return this.events[name][0].apply(socpe,args);var r=true;for(var i=0;i<L;i++){if(!this.events[name][i].apply(socpe,args))
r=false;}
return r;},on:function(n,fn){if($.isString(n)&&$.isArray(this.events[n])){this.events[n].push(fn);}else if($.isArray(n)){n.each(function(c){this.on(c,fn)},this);}
return this;},getPlugin:function(n){return this.constructor.plugin_[n];},set:function(c){if($.isObject(c))
$.merge(this.options,c);},pushIf:function(n,v){if(!$.isDefined(this.get(n))||this.get(n)==null){return this.push(n,v);}
return this.get(n);},push:function(n,v){var A=n.split("."),L=A.length-1,V=this.options;for(var i=0;i<L;i++){if(!V[A[i]])
V[A[i]]={};V=V[A[i]];}
V[A[L]]=v;return v;},get:function(n){var A=n.split("."),V=this.options[A[0]];for(var i=1;i<A.length;i++){if(!V)
return null;V=V[A[i]];}
return V;}}
$.Painter=$.extend($.Element,{configure:function(){this.type='painter';this.dimension=$._2D;$.DefineAbstract('commonDraw',this);$.DefineAbstract('initialize',this);this.set({strokeStyle:'gray',padding:10,color:'black',offsetx:0,offsety:0,background_color:'#FEFEFE',color_factor:0.15,style:'',border:{enable:true},gradient:false,gradient_mode:'LinearGradientUpDown',z_index:0,listeners:null,originx:null,originy:null});this.variable.event={mouseover:false};this.variable.animation={}
this.registerEvent('click','mousemove','mouseover','mouseout','beforedraw','draw');},is3D:function(){return this.dimension==$._3D;},applyGradient:function(x,y,w,h){var _=this._();if(_.get('gradient')&&_.get('f_color')){_.push('f_color',_.T.gradient(x||_.x||0,y||_.y||0,w||_.get(_.W),h||_.get(_.H),[_.get('dark_color'),_.get('light_color')],_.get('gradient_mode')));_.push('light_color',_.T.gradient(x||_.x||0,y||_.y||0,w||_.get(_.W),h||_.get(_.H),[_.get('background_color'),_.get('light_color')],_.get('gradient_mode')));_.push('f_color_',_.get('f_color'));}},draw:function(e,comb){if(comb){this.root.draw(e);}else{if(!this.fireEvent(this,'beforedraw',[this,e])){return this;}
this.commonDraw(this,e);this.fireEvent(this,'draw',[this,e]);}},inject:function(c){if(c){this.root=c;this.target=this.T=c.T;}},doConfig:function(){var _=this._(),p=$.parsePadding(_.get('padding')),b=_.get('border.enable'),b=b?$.parsePadding(_.get('border.width')):[0,0,0,0],bg=$.toRgb(_.get('background_color')),f=_.get('color_factor'),g=_.get('gradient')?0:null;_.set({border_top:b[0],border_right:b[1],border_bottom:b[2],border_left:b[3],hborder:b[1]+b[3],vborder:b[0]+b[2],padding_top:p[0]+b[0],padding_right:p[1]+b[1],padding_bottom:p[2]+b[2],padding_left:p[3]+b[3],hpadding:p[1]+p[3]+b[1]+b[3],vpadding:p[0]+p[2]+b[0]+b[2]});if(_.get('shadow')===true){_.push('shadow',{color:_.get('shadow_color'),blur:_.get('shadow_blur'),offsetx:_.get('shadow_offsetx'),offsety:_.get('shadow_offsety')});}
_.push('f_color',bg);_.push('f_color_',bg);_.push("light_color",$.light(bg,f,g));_.push("dark_color",$.dark(bg,f*0.8,g));_.push("light_color2",$.light(bg,f*2,g));if(_.is3D()&&!_.get('xAngle_')){var P=$.vectorP2P(_.get('xAngle'),_.get('yAngle'));_.push('xAngle_',P.x);_.push('yAngle_',P.y);}}});$.Html=$.extend($.Element,{configure:function(T){this.type='html';this.T=T;$.DefineAbstract('beforeshow',this);this.set({animation:true,default_action:true,width:0,height:0,style:'',index:999,offset_top:0,offset_left:0});this.transitions="";},initialize:function(){var _=this._();_.wrap=_.get('wrap');_.dom=document.createElement("div");if(_.get('shadow')){_.css('boxShadow',_.get('shadow_offsetx')+'px '+_.get('shadow_offsety')+'px '+_.get('shadow_blur')+'px '+_.get('shadow_color'));}
if(_.get('border.enable')){_.css('border',_.get('border.width')+"px "+_.get('border.style')+" "+_.get('border.color'));_.css('borderRadius',_.get('border.radius')+"px");}
_.css('position','absolute');_.css('zIndex',_.get('index'));_.applyStyle();_.wrap.appendChild(_.dom);_.style=_.dom.style;if(_.get('default_action')){_.doAction(_);}},width:function(){return this.dom.offsetWidth;},height:function(){return this.dom.offsetHeight;},onTransitionEnd:function(fn,useCapture){var type='transitionend';if($.isWebKit){type='webkitTransitionEnd';}else if($.isOpera){type='oTransitionEnd';}
$.Event.addEvent(this.dom,type,fn,useCapture);},destroy:function(){this.wrap.removeChild(this.dom);this.dom=null;},transition:function(v){this.transitions=this.transitions==''?v:this.transitions+','+v;if($.isWebKit){this.css('WebkitTransition',this.transitions);}else if($.isGecko){this.css('MozTransition',this.transitions);}else if($.isOpera){this.css('OTransition',this.transitions);}else{this.css('transition',this.transitions);}},beforeshow:function(e,m,_){_.follow(e,m,_);},show:function(e,m){this.beforeshow(e,m,this);this.css('visibility','visible');if(this.get('animation')){this.css('opacity',1);}},hidden:function(e){this.css('visibility','hidden');},getDom:function(){return this.dom;},css:function(k,v){if($.isString(k))if($.isDefined(v))this.dom.style[k]=v;else return this.dom.style[k];},applyStyle:function(){var styles=this.get('style').split(";"),style;for(var i=0;i<styles.length;i++){style=styles[i].split(":");if(style.length>1)this.css(style[0],style[1]);}}});$.Component=$.extend($.Painter,{configure:function(c){$.Component.superclass.configure.apply(this,arguments);this.type='component';this.set({fontsize:12,font:'Verdana',fontweight:'normal',fontunit:'px',tip:{enable:false,border:{width:2}}});this.atomic=false;this.proxy=false;this.ICHARTJS_CHART=false;this.inject(c);},initialize:function(){$.DefineAbstract('isEventValid',this);$.DefineAbstract('doDraw',this);this.doConfig();this.initialization=true;},getDimension:function(){return{x:this.x,y:this.y,width:this.get("width"),height:this.get("height")}},destroy:function(){if(this.tip){this.tip.destroy();}},doConfig:function(){$.Component.superclass.doConfig.call(this);var _=this._(),w=_.get(_.W),W=_.get('maxwidth'),x=_.get(_.X);if(w&&W){w=_.push(_.W,$.parsePercent(w,W));if(w>W){w=_.push('width',W);}
if(W>w){var C=_.get('align')||_.C;if(C==_.C){x+=(W-w)/2;}else if(C==_.R){x+=(W-w);}}}
_.x=_.push(_.X,x+_.get('offsetx'));_.y=_.push(_.Y,_.get(_.Y)+_.get('offsety'));_.push('fontStyle',$.getFont(_.get('fontweight'),_.get('fontsize'),_.get('font'),_.get('fontunit')));_.data=_.get('data');if(_.get('tip.enable')){_.pushIf('tip.border.color',_.get('f_color'));if(!$.isFunction(_.get('tip.invokeOffset')))
_.push('tip.invokeOffset',_.tipInvoke());}},isMouseOver:function(e){return this.isEventValid(e,this);},redraw:function(e){this.root.draw(e,this.root.Combination);},last:$.emptyFn,commonDraw:function(_){if(!_.proxy)
_.doDraw.call(_,_);}});$.Tip=$.extend($.Html,{configure:function(){$.Tip.superclass.configure.apply(this,arguments);this.type='tip';this.set({name:'',index:0,value:'',text:'',showType:'follow',invokeOffset:null,fade_duration:300,move_duration:100,timing_function:'ease-out',invokeOffsetDynamic:false,style:'textAlign:left;padding:4px 5px;cursor:pointer;backgroundColor:rgba(239,239,239,.85);fontSize:12px;color:black;',border:{enable:true,radius:5},delay:200});this.registerEvent('parseText');},position:function(t,l,_){_.style.top=(t<0?0:t)+"px";_.style.left=(l<0?0:l)+"px";},follow:function(e,m,_){if(_.get('invokeOffsetDynamic')){if(m.hit){if($.isString(m.text)||$.isNumber(m.text)){_.text(m.name,m.value,m.text,m.i,_);}
var o=_.get('invokeOffset')(_.width(),_.height(),m);_.position(o.top,o.left,_);}}else{if(_.get('showType')!='follow'&&$.isFunction(_.get('invokeOffset'))){var o=_.get('invokeOffset')(_.width(),_.height(),m);_.position(o.top,o.left,_);}else{_.position((e.y-_.height()*1.1-2),e.x+2,_);}}},text:function(n,v,t,i,_){_.dom.innerHTML=_.fireString(_,'parseText',[_,n,v,t,i],t);},hidden:function(e){if(this.get('animation')){this.css('opacity',0);}else{this.css('visibility','hidden');}},doAction:function(_){_.T.on('mouseover',function(c,e,m){_.show(e,m);}).on('mouseout',function(c,e,m){_.hidden(e);});if(_.get('showType')=='follow'){_.T.on('mousemove',function(c,e,m){if(_.T.variable.event.mouseover){setTimeout(function(){if(_.T.variable.event.mouseover)
_.follow(e,m,_);},_.get('delay'));}});}},initialize:function(){$.Tip.superclass.initialize.call(this);var _=this._();_.text(_.get('name'),_.get('value'),_.get('text'),_.get('index'),_);_.hidden();if(_.get('animation')){var m=_.get('move_duration')/1000+'s '+_.get('timing_function')+' 0s';_.transition('opacity '+_.get('fade_duration')/1000+'s '+_.get('timing_function')+' 0s');_.transition('top '+m);_.transition('left '+m);_.onTransitionEnd(function(e){if(_.css('opacity')==0){_.css('visibility','hidden');}},false);}}});$.CrossHair=$.extend($.Html,{configure:function(){$.CrossHair.superclass.configure.apply(this,arguments);this.type='crosshair';this.set({top:0,left:0,hcross:true,vcross:true,invokeOffset:null,line_width:1,line_color:'#1A1A1A',delay:200});},follow:function(e,m,_){if(_.get('invokeOffset')){var o=_.get('invokeOffset')(e,m);if(o&&o.hit){_.o_valid=true;_.position(o.top-_.top,o.left-_.left,_);}else if(!o||!_.o_valid){_.position(_.owidth,_.oheight,_);}}else{_.position(e.y-_.top-1,e.x-_.left-1,_);}},position:function(t,l,_){_.horizontal.style.top=(t-_.size)+"px";_.vertical.style.left=(l-_.size)+"px";},doCreate:function(_,w,h){var d=document.createElement("div");d.style.width=$.toPixel(w);d.style.height=$.toPixel(h);d.style.backgroundColor=_.get('line_color');d.style.position="absolute";_.dom.appendChild(d);return d;},doAction:function(_){_.T.on('mouseover',function(c,e,m){_.show(e,m);}).on('mouseout',function(c,e,m){_.hidden(e,m);}).on('mousemove',function(c,e,m){_.follow(e,m,_);});},initialize:function(){$.CrossHair.superclass.initialize.call(this);var _=this._(),L=$.toPixel(_.get('line_width'));_.size=_.get('line_width')/2;_.top=$.fixPixel(_.get(_.O));_.left=$.fixPixel(_.get(_.L));_.owidth=-_.T.root.width;_.oheight=-_.T.root.height;_.o_valid=false;_.css('width','0px');_.css('height','0px');_.css('top',_.top+'px');_.css('left',_.left+'px');_.css('visibility','hidden');_.horizontal=_.doCreate(_,_.get('hcross')?$.toPixel(_.get(_.W)):"0px",L);_.vertical=_.doCreate(_,L,_.get('vcross')?$.toPixel(_.get(_.H)):"0px");}});$.Legend=$.extend($.Component,{configure:function(){$.Legend.superclass.configure.apply(this,arguments);this.type='legend';this.set({data:undefined,width:'auto',column:1,row:'max',maxwidth:0,line_height:16,sign:'square',sign_size:10,sign_space:5,legend_space:5,z_index:1009,text_with_sign_color:false,align:'right',valign:'middle'});this.atomic=true;this.registerEvent('parse');},isEventValid:function(e,_){var r={valid:false};if(e.x>this.x&&e.x<(_.x+_.width)&&e.y>_.y&&e.y<(_.y+_.height)){_.data.each(function(d,i){if(e.x>d.x&&e.x<(d.x+d.width_+_.get('signwidth'))&&e.y>d.y&&e.y<(d.y+_.get('line_height'))){r={valid:true,index:i,target:d}
return false;}},_);}
return r;},drawCell:function(x,y,text,color,n,_){var s=_.get('sign_size'),f=_.getPlugin('sign');if(!f||!f.call(_,_.T,n,{x:x+s/2,y:y},s,color)){if(n.indexOf("bar")!=-1){_.T.box(x,y-s/12,s,s/6,0,color);}
if(n=='round'){_.T.round(x+s/2,y,s/2,color);}else if(n=='round-bar'){_.T.round(x+s/2,y,s/4,color);}else if(n=='square-bar'){_.T.box(x+s/4,y-s/4,s/2,s/2,0,color);}else if(n=='square'){_.T.box(x,y-s/2,s,s,0,color);}}
_.T.fillText(text,x+_.get('signwidth'),y,0,_.get('text_with_sign_color')?color:_.get('color'),'lr',_.get('line_height'));},doDraw:function(_){_.T.box(_.x,_.y,_.width,_.height,_.get('border'),_.get('f_color'),false,_.get('shadow'));_.T.textStyle(_.L,'middle',$.getFont(_.get('fontweight'),_.get('fontsize'),_.get('font')));_.data.each(function(d){_.drawCell(d.x,d.y,d.text,d.color,d.sign,_);});},doLayout:function(_,g){var ss=_.get('sign_size'),w=0,h=0,temp=0,c=_.get('column'),r=_.get('row'),L=_.data.length;_.T.textFont(_.get('fontStyle'));if(_.get('line_height')<ss){_.push('line_height',ss+ss/5);}
_.push('signwidth',(ss+_.get('sign_space')));_.data.each(function(d){d.width_=_.T.measureText(d.text);},_);for(var i=0;i<c;i++){temp=0;for(var j=i;j<L;j+=c){temp=Math.max(temp,_.data[j].width_);}
_.columnwidth[i]=temp;w+=temp;}
for(var i=0;i<r;i++){temp=0;for(var j=i*c;j<L;j++){temp=Math.max(temp,_.data[j].text.split("\n").length);}
_.columnheight[i]=temp;h+=temp;}
w=_.push(_.W,w+_.get('hpadding')+_.get('signwidth')*c+(c-1)*_.get('legend_space'));if(w>_.get('maxwidth')){var fs=Math.floor(_.get('fontsize')*(_.get('maxwidth')/w));if(!(fs<10&&c==1)){if(fs>9){_.push('fontStyle',$.getFont(_.get('fontweight'),_.push('fontsize',fs),_.get('font')));}else if(c>1){_.push('row',Math.ceil(L/_.push('column',c-1)));}
_.doLayout(_,g);return;}}
var d,x,y,y2;_.width=w;_.height=h=_.push(_.H,h*_.get('line_height')+_.get('vpadding'));if(_.get('valign')==_.O){_.y=g.get('t_originy');}else if(_.get('valign')==_.B){_.y=g.get('b_originy')-h;}else{_.y=g.get('centery')-h/2;}
if(_.get('align')==_.L){_.x=g.get('l_originx');}else if(_.get('align')==_.C){_.x=g.get('centerx')-w/2;}else{_.x=g.get('r_originx')-w;}
_.x=_.push(_.X,(_.x<0?g.get('l_originx'):_.x)+_.get('offsetx'));_.y=_.push(_.Y,(_.y<0?g.get('t_originy'):_.y)+_.get('offsety'));y=_.y+_.get('padding_top');ss=_.get('legend_space')+_.get('signwidth');for(var i=0;i<r;i++){x=_.x+_.get('padding_left');y2=(_.columnheight[i]/2)*_.get('line_height');y+=y2;for(var j=0;j<c&&i*c+j<L;j++){d=_.data[i*c+j];d.y=y;d.x=x;x+=_.columnwidth[j]+ss;}
y+=y2;}},doConfig:function(){$.Legend.superclass.doConfig.call(this);var _=this._(),g=_.root,c=$.isNumber(_.get('column')),r=$.isNumber(_.get('row')),L=_.data.length;if(_.get('align')==_.C&&_.get('valign')=='middle'){_.push('valign',_.O);}
if(g.get('align')==_.L){if(_.get('valign')=='middle'){_.push('align',_.R);}}
_.data.each(function(d,i){$.merge(d,_.fireEvent(_,'parse',[_,d.name,i]));d.text=d.text||d.name||'';d.sign=d.sign||_.get('sign')},_);if(!c&&!r)
c=_.push('column',1);if(c&&!r)
r=_.push('row',Math.ceil(L/_.get('column')));if(!c&&r)
c=_.push('column',Math.ceil(L/_.get('row')));c=_.get('column');r=_.get('row');if(L>r*c){r+=Math.ceil((L-r*c)/c);r=_.push('row',r);}
_.columnwidth=[];_.columnheight=[];_.doLayout(_,g);}});$.Label=$.extend($.Component,{configure:function(){$.Label.superclass.configure.apply(this,arguments);this.type='label';this.set({text:'',line_height:12,line_thickness:1,sign:'square',sign_size:12,padding:'2 5',offsety:2,sign_space:5,background_color:'#efefef',text_with_sign_color:false});this.atomic=true;this.registerEvent();},isEventValid:function(e,_){return{valid:$.inRange(_.labelx,_.labelx+_.get(_.W),e.x)&&$.inRange(_.labely,_.labely+_.get(_.H),e.y)};},text:function(text){if(text)
this.push('text',text);this.push(this.W,this.T.measureText(this.get('text'))+this.get('hpadding')+this.get('sign_size')+this.get('sign_space'));},localizer:function(_){var Q=_.get('quadrantd'),p=_.get('line_points'),m=_.get('smooth'),Q=(Q>=1&&Q<=2),x=_.get('labelx'),y=_.get('labely');_.labelx=x+(Q?-_.get(_.W)-m:m);_.labely=y-_.get(_.H)/2;p[2]={x:x,y:y};p[3]={x:p[2].x+(Q?-m:m),y:p[2].y};},doLayout:function(x,y,n,_){_.push('labelx',_.get('labelx')+x/n);_.push('labely',_.get('labely')+y/n);_.get('line_points').each(function(p,i){p.x+=x;p.y+=y;return i==1;},_);_.localizer(_);},doDraw:function(_){var p=_.get('line_points'),ss=_.get('sign_size'),x=_.labelx+_.get('padding_left'),y=_.labely+_.get('padding_top');_.T.label(p,_.get('line_thickness'),_.get('border.color'));_.T.box(_.labelx,_.labely,_.get(_.W),_.get(_.H),_.get('border'),_.get('f_color'),false,_.get('shadow'));_.T.textStyle(_.L,_.O,_.get('fontStyle'));var textcolor=_.get('color');if(_.get('text_with_sign_color')){textcolor=_.get('scolor');}
if(_.get('sign')=='square'){_.T.box(x,y,ss,ss,0,_.get('scolor'));}else if(_.get('sign')){_.T.round(x+ss/2,y+ss/2,ss/2,_.get('scolor'));}
_.T.fillText(_.get('text'),x+ss+_.get('sign_space'),y,_.get('textwidth'),textcolor);},doConfig:function(){$.Label.superclass.doConfig.call(this);var _=this._();_.T.textFont(_.get('fontStyle'));if(_.get('fontsize')>_.get('line_height')){_.push('line_height',_.get('fontsize'));}
if(!_.get('sign')){_.push('sign_size',0);_.push('sign_space',0);}
_.push(_.H,_.get('line_height')+_.get('vpadding'));_.text();_.localizer(_);}});$.Text=$.extend($.Component,{configure:function(){$.Text.superclass.configure.apply(this,arguments);this.type='text';this.set({text:'',textAlign:'center',align:'center',background_color:0,textBaseline:'top',border:{enable:false},width:0,height:0,padding:0,writingmode:'lr',line_height:16,rotate:0});this.registerEvent();},doDraw:function(_){if(_.get('box_feature'))
_.T.box(_.x,_.y,_.get(_.W),_.get(_.H),_.get('border'),_.get('f_color'));_.T.text(_.get('text'),_.get('textx'),_.get('texty'),_.get(_.W)-_.get('hpadding'),_.get('color'),_.get('textAlign'),_.get('textBaseline'),_.get('fontStyle'),_.get('writingmode'),_.get('line_height'),_.get('shadow'),_.get('rotate'));},isEventValid:function(){return{valid:false};},doLayout:function(x,y,n,_){_.x=_.push(_.X,_.x+x);_.y=_.push(_.Y,_.y+y);_.push('textx',_.get('textx')+x);_.push('texty',_.get('texty')+y);},doConfig:function(){$.Text.superclass.doConfig.call(this);var _=this._(),x=_.x,y=_.y+_.get('padding_top'),w=_.get(_.W),h=_.get(_.H),a=_.get('textAlign');x+=(a==_.C?w/2:(a==_.R?w-_.get('padding_right'):_.get('padding_left')));if(h){y+=h/2;_.push('textBaseline','middle');}
_.push('textx',x);_.push('texty',y);_.push('box_feature',w&&h);_.applyGradient();}});;(function($){var PI=Math.PI,inc=PI/90,inc2=inc/2,ceil=Math.ceil,floor=Math.floor,PI2=2*PI,max=Math.max,min=Math.min,sin=Math.sin,cos=Math.cos,fd=function(w,c){return w==1?(floor(c)+0.5):Math.round(c);},getCurvePoint=function(seg,point,i,smo){var x=point.x,y=point.y,lp=seg[i-1],np=seg[i+1],lcx,lcy,rcx,rcy;if(i<seg.length-1){var lastY=lp.y,nextY=np.y,c;lcx=(smo*x+lp.x)/(smo+1);lcy=(smo*y+lastY)/(smo+1);rcx=(smo*x+np.x)/(smo+1);rcy=(smo*y+nextY)/(smo+1);c=((rcy-lcy)*(rcx-x))/(rcx-lcx)+y-rcy;lcy+=c;rcy+=c;if(lcy>lastY&&lcy>y){lcy=max(lastY,y);rcy=2*y-lcy;}else if(lcy<lastY&&lcy<y){lcy=min(lastY,y);rcy=2*y-lcy;}
if(rcy>nextY&&rcy>y){rcy=max(nextY,y);lcy=2*y-rcy;}else if(rcy<nextY&&rcy<y){rcy=min(nextY,y);lcy=2*y-rcy;}
point.rcx=rcx;point.rcy=rcy;}
return[lp.rcx||lp.x,lp.rcy||lp.y,lcx||x,lcy||y,x,y];},pF=function(n){return $.isNumber(n)?n:$.parseFloat(n,n);},parse=function(c,_){var M,V=0,MI,ML=0,init=false,g=_.get('labels');_.data=c;if(_.dataType=='simple'){_.total=0;c.each(function(d,i){d.background_color=d.color;V=d.value||0;if($.isArray(V)){var T=0;ML=V.length>ML?V.length:ML;for(var j=0;j<V.length;j++){V[j]=pF(V[j]);T+=V[j];if(!init){M=MI=V[j];init=true;}
M=max(V[j],M);MI=min(V[j],MI);}
d.total=T;}else{V=pF(V);d.value=V;_.total+=V;if(!init){M=MI=V;init=true;}
M=max(V,M);MI=min(V,MI);}},_);if($.isArray(g)){ML=g.length>ML?g.length:ML;}
_.push('maxItemSize',ML);}else if(_.dataType=='stacked'||_.dataType=='complex'){var L=g.length,item,T,r,stack=_.dataType=='stacked';if(L==0){L=c[0].value.length;for(var i=0;i<L;i++)g.push("");}
_.columns=[];for(var i=0;i<L;i++){item=[],T=0;c.each(function(d,j){V=d.value[i];if(!V)return;d.value[i]=V=pF(V,V);T+=V;if(stack){r=c[j].color;}else{r=d.color;if(!init){M=MI=V;init=true;}
M=max(V,M);MI=min(V,MI);}
item.push($.applyIf({name:d.name,value:d.value[i],background_color:r,color:r},$.isArray(d.extra)?(d.extra[i]||{}):d));});if(stack){if(!init){M=MI=V;init=true;}
M=max(T,M);MI=min(T,MI);}
_.columns.push({total:T,name:g[i],item:item});}}
_.push('minValue',MI);_.push('maxValue',M);_.doConfig();_.initialization=true;};function Cans(c){if(typeof c==="string")
c=$(c);if(!c||!c['tagName']||c['tagName'].toLowerCase()!='canvas')
throw new Error("there not a canvas element");this.canvas=c;this.c=this.canvas.getContext("2d");}
Cans.prototype={getContext:function(){return this.c;},css:function(a,s){if($.isDefined(s))
this.canvas.style[a]=s;else
return this.canvas.style[a];},ellipse:function(x,y,a,b,s,e,c,bo,bow,boc,sw,ccw,a2r,last){var angle=s,a2r=!!a2r;this.save().gCo(last).strokeStyle(bo,bow,boc).shadowOn(sw).fillStyle(c).moveTo(x,y).beginPath();if(a2r)
this.moveTo(x,y);while(angle<=e){this.lineTo(x+a*cos(angle),y+(b*sin(angle)));angle+=inc;}
return this.lineTo(x+a*cos(e),y+(b*sin(e))).closePath().stroke(bo).fill(c).restore();},arc:function(x,y,r,dw,s,e,c,b,bw,bc,sw,ccw,a2r,last){if(b)
r-=floor(bw/2);if(r<=0)return this;this.save().gCo(last).strokeStyle(b,bw,bc).fillStyle(c).beginPath();if(dw){this.moveTo(x+cos(s)*(r-dw),y+sin(s)*(r-dw)).lineTo(x+cos(s)*r,y+sin(s)*r);this.c.arc(x,y,r,s,e,ccw);this.lineTo(x+cos(e)*(r-dw),y+sin(e)*(r-dw));this.c.arc(x,y,r-dw,e,s,!ccw);}else{this.c.arc(x,y,r,s,e,ccw);if(a2r)
this.lineTo(x,y);}
this.closePath();if(!b){this.shadowOn(sw).fill(c);}else{this.shadowOn(sw).stroke(b).shadowOff().fill(c);}
return this.restore();},sector:function(x,y,r,dw,s,e,c,b,bw,bc,sw,ccw,a2a,font){if(sw)
this.arc(x,y,r,dw,s,e,c,b,bw,bc,sw,ccw,!a2a,!font);return this.arc(x,y,r,dw,s,e,c,b,bw,bc,false,ccw,!a2a);},sector3D:function(){var x0,y0,sPaint=function(x,y,a,b,s,e,ccw,h,c){var Lo=function(A,h){this.lineTo(x+a*cos(A),y+(h||0)+(b*sin(A)));},angle=s;this.fillStyle($.dark(c)).moveTo(x+a*cos(s),y+(b*sin(s))).beginPath();while(angle<=e){Lo.call(this,angle);angle=angle+inc;}
Lo.call(this,e);this.lineTo(x+a*cos(e),(y+h)+(b*sin(e)));angle=e;while(angle>=s){Lo.call(this,angle,h);angle=angle-inc;}
Lo.call(this,s,h);this.lineTo(x+a*cos(s),y+(b*sin(s))).closePath().fill(true);},layerDraw=function(x,y,a,b,ccw,h,A,c){var x0=x+a*cos(A);var y0=y+h+(b*sin(A));this.moveTo(x,y).beginPath().fillStyle(c).lineTo(x,y+h).lineTo(x0,y0).lineTo(x0,y0-h).lineTo(x,y).closePath().fill(true);},layerPaint=function(x,y,a,b,s,e,ccw,h,c){var q1=$.quadrantd(s),q2=$.quadrantd(e);c=$.dark(c);if(q1==1||q1==2)
layerDraw.call(this,x,y,a,b,ccw,h,s,c);if(q2==0||q2==3)
layerDraw.call(this,x,y,a,b,ccw,h,e,c);};var s3=function(x,y,a,b,s,e,h,c,bo,bow,boc,sw,ccw,isw){this.ellipse(x,y+h,a,b,s,e,c,bo,bow,boc,sw,ccw,true);layerPaint.call(this,x,y,a,b,s,e,ccw,h,c);this.ellipse(x,y,a,b,s,e,c,bo,bow,boc,false,ccw,true);sPaint.call(this,x,y,a,b,s,e,ccw,h,c);return this;}
s3.layerPaint=layerPaint;s3.sPaint=sPaint;s3.layerDraw=layerDraw;return s3;}(),textStyle:function(a,l,f){return this.textAlign(a).textBaseline(l).textFont(f);},strokeStyle:function(b,w,c,j){if(b){if(w)
this.c.lineWidth=w;if(c)
this.c.strokeStyle=c;if(j)
this.c.lineJoin=j;}
return this;},globalAlpha:function(v){if(v)
this.c.globalAlpha=v;return this;},fillStyle:function(c){if(c)
this.c.fillStyle=c;return this;},arc2:function(x,y,r,s,e,c){if(r)
this.c.arc(x,y,r,s,e,c);return this;},textAlign:function(a){if(a)
this.c.textAlign=a;return this;},textBaseline:function(l){if(l)
this.c.textBaseline=l;return this;},textFont:function(font){if(font)
this.c.font=font;return this;},shadowOn:function(s){if(s){this.c.shadowColor=s.color;this.c.shadowBlur=s.blur;this.c.shadowOffsetX=s.offsetx;this.c.shadowOffsetY=s.offsety;}
return this;},shadowOff:function(){this.c.shadowColor='white';this.c.shadowBlur=this.c.shadowOffsetX=this.c.shadowOffsetY=0;return this;},gradient:function(x,y,w,h,c,m,r){m=m.toLowerCase();var x0=x,y0=y,f=!m.indexOf("linear");m=m.substring(14);if(f){switch(m){case'updown':y0+=h;break;case'downup':y+=h;break;case'leftright':x0+=w;break;case'rightleft':x+=w;break;default:return c[0];}
return this.avgLinearGradient(x,y,x0,y0,c);}else{x+=w/2;y+=h/2;return this.avgRadialGradient(x,y,(r||0),x,y,(w>h?h:w),m=='outin'?c.reverse():c);}},avgLinearGradient:function(xs,ys,xe,ye,c){var g=this.createLinearGradient(xs,ys,xe,ye);for(var i=0;i<c.length;i++)
g.addColorStop(i/(c.length-1),c[i]);return g;},createLinearGradient:function(xs,ys,xe,ye){return this.c.createLinearGradient(xs,ys,xe,ye);},avgRadialGradient:function(xs,ys,rs,xe,ye,re,c){var g=this.createRadialGradient(xs,ys,rs,xe,ye,re);for(var i=0;i<c.length;i++)
g.addColorStop(i/(c.length-1),c[i]);return g;},createRadialGradient:function(xs,ys,rs,xe,ye,re){return this.c.createRadialGradient(xs,ys,rs,xe,ye,re);},text:function(t,x,y,max,color,align,line,font,mode,h,sw,ro){return this.save().textStyle(align,line,font).fillText(t,x,y,max,color,mode,h,sw,ro).restore();},fillText:function(t,x,y,max,color,mode,h,sw,ro){t=t.toString();if(!t||!t.length)return this;max=max||false;mode=mode||'lr';h=h||16;x=fd(0,x);y=fd(0,y);var T=t.split(mode=='tb'?"":"\n");if(T.length>1){if(this.c.textBaseline=='middle'){y=y-(T.length-1)*h/2;}else if(this.c.textBaseline=='bottom'){y=y-(T.length-1)*h;}}
this.save().fillStyle(color).translate(x,y).rotate(inc2*ro).shadowOn(sw);T.each(function(t,i){try{if(max&&max>0)
this.c.fillText(t,0,i*h,max);else
this.c.fillText(t,0,i*h);}catch(e){console.log(e.message+'['+t+','+x+','+y+']');}},this);return this.restore();},measureText:function(t){t=t.split("\n");var m=0;t.each(function(o){m=max(this.measureText(o).width,m);},this.c);return m;},moveTo:function(x,y){x=x||0;y=y||0;this.c.moveTo(x,y);return this;},lineTo:function(x,y){x=x||0;y=y||0;this.c.lineTo(x,y);return this;},save:function(){this.c.save();return this;},restore:function(){this.c.restore();return this;},beginPath:function(){this.c.beginPath();return this;},closePath:function(){this.c.closePath();return this;},stroke:function(s){if(s)
this.c.stroke();return this;},fill:function(f){if(f)
this.c.fill();return this;},cube:function(x,y,xv,yv,width,height,zdeep,bg,b,bw,bc,sw){x=fd(bw,x);y=fd(bw,y);zdeep=(zdeep&&zdeep>0)?zdeep:width;var x1=x+zdeep*xv,y1=y-zdeep*yv;x1=fd(bw,x1);y1=fd(bw,y1);if(sw){this.polygon(bg,b,bw,bc,sw,false,[{x:x,y:y},{x:x1,y:y1},{x:x1+width,y:y1},{x:x+width,y:y}]);this.polygon(bg,b,bw,bc,sw,false,[{x:x,y:y},{x:x,y:y+height},{x:x+width,y:y+height},{x:x+width,y:y}]);this.polygon(bg,b,bw,bc,sw,false,[{x:x+width,y:y},{x:x1+width,y:y1},{x:x1+width,y:y1+height},{x:x+width,y:y+height}]);}
this.polygon($.dark(bg),b,bw,bc,false,false,[{x:x,y:y},{x:x1,y:y1},{x:x1+width,y:y1},{x:x+width,y:y}]);this.polygon(bg,b,bw,bc,false,false,[{x:x,y:y},{x:x,y:y+height},{x:x+width,y:y+height},{x:x+width,y:y}]);this.polygon($.dark(bg),b,bw,bc,false,false,[{x:x+width,y:y},{x:x1+width,y:y1},{x:x1+width,y:y1+height},{x:x+width,y:y+height}]);return this;},cube3D:function(x,y,rotatex,rotatey,angle,w,h,zh,b,bw,bc,styles){x=fd(bw,x);y=fd(bw,y);zh=(!zh||zh==0)?w:zh;if(angle){var P=$.vectorP2P(rotatex,rotatey);rotatex=x+zh*P.x,rotatey=y-zh*P.y;}else{rotatex=x+zh*rotatex,rotatey=y-zh*rotatey;}
while(styles.length<6)
styles.push(false);rotatex=fd(bw,rotatex);rotatey=fd(bw,rotatey);var side=[];if(rotatey<0){if($.isObject(styles[4]))
side.push($.applyIf({points:[{x:x,y:y-h},{x:rotatex,y:rotatey-h},{x:rotatex+w,y:rotatey-h},{x:x+w,y:y-h}]},styles[4]));}else{if($.isObject(styles[0]))
side.push($.applyIf({points:[{x:x,y:y},{x:rotatex,y:rotatey},{x:rotatex+w,y:rotatey},{x:x+w,y:y}]},styles[0]));}
if($.isObject(styles[1]))
side.push($.applyIf({points:[{x:rotatex,y:rotatey},{x:rotatex,y:rotatey-h},{x:rotatex+w,y:rotatey-h},{x:rotatex+w,y:rotatey}]},styles[1]));if($.isObject(styles[2]))
side.push($.applyIf({points:[{x:x,y:y},{x:x,y:y-h},{x:rotatex,y:rotatey-h},{x:rotatex,y:rotatey}]},styles[2]));if($.isObject(styles[3]))
side.push($.applyIf({points:[{x:x+w,y:y},{x:x+w,y:y-h},{x:rotatex+w,y:rotatey-h},{x:rotatex+w,y:rotatey}]},styles[3]));if(rotatey<0){if($.isObject(styles[0]))
side.push($.applyIf({points:[{x:x,y:y},{x:rotatex,y:rotatey},{x:rotatex+w,y:rotatey},{x:x+w,y:y}]},styles[0]));}else{if($.isObject(styles[4]))
side.push($.applyIf({points:[{x:x,y:y-h},{x:rotatex,y:rotatey-h},{x:rotatex+w,y:rotatey-h},{x:x+w,y:y-h}]},styles[4]));}
if($.isObject(styles[5]))
side.push($.applyIf({points:[{x:x,y:y},{x:x,y:y-h},{x:x+w,y:y-h},{x:x+w,y:y}]},styles[5]));side.each(function(s){this.polygon(s.color,b,bw,bc,s.shadow,s.alpha,s.points);},this);return this;},polygon:function(bg,b,bw,bc,sw,alpham,p,smooth,smo,l){this.save().strokeStyle(b,bw,bc).beginPath().fillStyle(bg).globalAlpha(alpham).shadowOn(sw).moveTo(p[0].x,p[0].y);if(smooth){this.moveTo(fd(bw,l[0].x),fd(bw,l[0].y)).lineTo(fd(bw,p[0].x),fd(bw,p[0].y));for(var i=1;i<p.length;i++)
this.bezierCurveTo(getCurvePoint(p,p[i],i,smo));this.lineTo(fd(bw,l[1].x),fd(bw,l[1].y));}else{for(var i=1;i<p.length;i++)
this.lineTo(fd(bw,p[i].x),fd(bw,p[i].y));}
return this.closePath().stroke(b).fill(bg).restore();},lines:function(p,w,c,last){if(!w)return this;this.save().gCo(last).beginPath().strokeStyle(true,w,c).moveTo(fd(w,p[0]),fd(w,p[1]));for(var i=2;i<p.length-1;i+=2){this.lineTo(fd(w,p[i]),fd(w,p[i+1]));}
return this.stroke(true).restore();},bezierCurveTo:function(r){this.c.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);return this;},label:function(p,w,c){return this.save().beginPath().strokeStyle(true,w,c).moveTo(fd(w,p[0].x),fd(w,p[0].y)).bezierCurveTo([p[1].x,p[1].y,p[2].x,p[2].y,p[3].x,p[3].y]).stroke(true).restore();},lineArray:function(p,w,c,smooth,smo){if(!w)return this;this.save().beginPath().strokeStyle(true,w,c).moveTo(fd(w,p[0].x),fd(w,p[0].y));for(var i=1;i<p.length;i++){if(smooth){this.bezierCurveTo(getCurvePoint(p,p[i],i,smo||1.5));}else{this.lineTo(fd(w,p[i].x),fd(w,p[i].y));}}
return this.stroke(true).restore();},dotted:function(x1,y1,x2,y2,w,c,L,f,last){if(!w)
return this;x1=fd(w,x1);y1=fd(w,y1);x2=fd(w,x2);y2=fd(w,y2);var d=$.distanceP2P(x1,y1,x2,y2),t;if(L<=0||d<=L||(x1!=x2&&y1!=y2)){return this.line(x1,y1,x2,y2,w,c,last);}
if(x1>x2||y1>y2){t=x1;x1=x2;x2=t;t=y1;y1=y2;y2=t;}
this.save().gCo(last).strokeStyle(true,w,c).beginPath().moveTo(x1,y1);var S=L*(f||1),g=floor(d/(L+S)),k=(d-g*(L+S))>L,h=(y1==y2);g=k?g+1:g;for(var i=1;i<=g;i++){this.lineTo(h?x1+L*i+S*(i-1):x1,h?y1:y1+L*i+S*(i-1)).moveTo(h?x1+(L+S)*i:x1,h?y1:y1+(L+S)*i);}
if(!k){this.lineTo(x2,y2);}
return this.stroke(true).restore();},line:function(x1,y1,x2,y2,w,c,last){if(!w)
return this;this.save().gCo(last);return this.beginPath().strokeStyle(true,w,c).moveTo(fd(w,x1),fd(w,y1)).lineTo(fd(w,x2),fd(w,y2)).stroke(true).restore();},round:function(x,y,r,c,bw,bc){return this.arc(x,y,r,0,0,PI2,c,!!bc,bw,bc);},round0:function(q,r,c,bw,bc){return this.arc(q.x,q.y,r,0,0,PI2,c,!!bc,bw,bc);},fillRect:function(x,y,w,h){this.c.fillRect(x,y,w,h);return this;},translate:function(x,y){this.c.translate(x,y);return this;},rotate:function(r){this.c.rotate(r);return this;},clearRect:function(x,y,w,h){x=x||0;y=y||0;w=w||this.canvas.width;h=h||this.canvas.height;this.c.clearRect(x,y,w,h);return this;},gCo:function(l){if(l)
return this.gCO(l);return this;},gCO:function(l){this.c.globalCompositeOperation=l?"destination-over":"source-over";return this;},box:function(x,y,w,h,b,bg,shadow,m,last){b=b||{enable:0}
if(b.enable){var j=b.width,c=b.color,r=b.radius,f=$.isNumber(j);j=$.parsePadding(j);if(j[0]==j[1]&&j[1]==j[2]&&j[2]==j[3]){f=true;}
m=m?1:-1;w+=m*(j[1]+j[3])/2;h+=m*(j[0]+j[2])/2;x-=m*(j[3]/2);y-=m*(j[0]/2);j=f?j[0]:j;r=(!f||!r||r==0||r=='0')?0:$.parsePadding(r);}
this.save().gCo(last).fillStyle(bg).strokeStyle(f,j,c);if(r){this.beginPath().moveTo(fd(j,x+r[0]),fd(j,y)).lineTo(fd(j,x+w-r[1]),fd(j,y)).arc2(fd(j,x+w-r[1]),fd(j,y+r[1]),r[1],PI*3/2,PI2).lineTo(fd(j,x+w),fd(j,y+h-r[2])).arc2(fd(j,x+w-r[2]),fd(j,y+h-r[2]),r[2],0,PI/2).lineTo(fd(j,x+r[3]),fd(j,y+h)).arc2(fd(j,x+r[3]),fd(j,y+h-r[3]),r[3],PI/2,PI).lineTo(fd(j,x),fd(j,y+r[0])).arc2(fd(j,x+r[0]),fd(j,y+r[0]),r[0],PI,PI*3/2).closePath().shadowOn(shadow).stroke(j).shadowOff().fill(bg);}else{if(!b.enable||f){if(j&&b.enable){this.shadowOn(shadow).c.strokeRect(x,y,w,h);this.shadowOff();}
if(bg)
this.fillRect(x,y,w,h);}else{if(j){c=$.isArray(c)?c:[c,c,c,c];this.shadowOn(shadow).line(x+w,y+j[0]/2,x+w,y+h-j[0]/2,j[1],c[1],0).line(x,y+j[0]/2,x,y+h-j[0]/2,j[3],c[3],0).line(floor(x-j[3]/2),y,x+w+j[1]/2,y,j[0],c[0],0).line(floor(x-j[3]/2),y+h,x+w+j[1]/2,y+h,j[2],c[2],0).shadowOff();}
if(bg){this.beginPath().moveTo(floor(x+j[3]/2),floor(y+j[0]/2)).lineTo(ceil(x+w-j[1]/2),y+j[0]/2).lineTo(ceil(x+w-j[1]/2),ceil(y+h-j[2]/2)).lineTo(floor(x+j[3]/2),ceil(y+h-j[2]/2)).lineTo(floor(x+j[3]/2),floor(y+j[0]/2)).closePath().fill(bg);}}}
return this.restore();},toDataURL:function(g){return this.canvas.toDataURL(g||"image/png");},addEvent:function(type,fn,useCapture){$.Event.addEvent(this.canvas,type,fn,useCapture);}}
$.taylor={light:function(_,e){e.highlight=false;_.on('mouseover',function(){e.highlight=true;_.redraw('mouseover');}).on('mouseout',function(){e.highlight=false;_.redraw('mouseout');}).on('beforedraw',function(){_.push('f_color',e.highlight?_.get('light_color'):_.get('f_color_'));return true;});}}
$.Chart=$.extend($.Painter,{configure:function(){$.Chart.superclass.configure.apply(this,arguments);this.type='chart';this.dataType='simple';this.set({id:'',render:'',data:[],width:undefined,height:undefined,lineJoin:'round',align:'center',default_mouseover_css:true,turn_off_touchmove:false,showpercent:false,decimalsnum:1,title:{text:'',fontweight:'bold',fontsize:20,height:30},subtitle:{text:'',fontweight:'bold',fontsize:16,height:20},footnote:{text:'',color:'#5d7f97',textAlign:'right',height:20},animation:false,doAnimation:null,animation_timing_function:'easeInOut',animation_duration:1000,z_index:999,legend:{enable:false},tip:{enable:false}});this.registerEvent('beforeAnimation','afterAnimation','resize','animating');this.T=null;this.Rendered=false;this.Combination=false;this.Animationed=false;this.show=false;this.data=[];this.plugins=[];this.components=[];this.oneways=[];this.total=0;this.ICHARTJS_CHART=true;},toDataURL:function(g){return this.T.toDataURL(g);},segmentRect:function(){if(!this.Combination)
this.T.clearRect();},resetCanvas:function(){if(!this.Combination)
this.T.box(this.get('l_originx'),this.get('t_originy'),this.get('client_width'),this.get('client_height'),0,this.get('f_color'),0,0,true);},animation:function(_){_.segmentRect();if(_.coo&&!_.ILLUSIVE_COO)
_.coo.draw();_.doAnimation(_.variable.animation.time,_.duration,_);_.plugins.each(function(p){if(p.A_draw){p.variable.animation.animating=true;p.variable.animation.time=_.variable.animation.time;p.draw();p.variable.animation.animating=false;}});if(_.Combination){return;}
_.oneways.each(function(o){o.draw()});if(_.variable.animation.time<_.duration){_.variable.animation.time++;$.requestAnimFrame(function(){_.animation(_);});}else{$.requestAnimFrame(function(){_.Animationed=true;_.plugins.each(function(p){p.Animationed=true;});_.processAnimation=false;_.draw();_.plugins.each(function(p){p.processAnimation=false;});_.fireEvent(_,'afterAnimation',[_]);});}},runAnimation:function(_){_.fireEvent(_,'beforeAnimation',[_]);if(!_.A_draw)
_.variable.animation={type:0,time:0,queue:[]}
_.processAnimation=true;_.animation(_);},doSort:function(){var f=function(p,q){return($.isArray(p)?(p.zIndex||0):p.get('z_index'))>($.isArray(q)?(q.zIndex||0):q.get('z_index'))};this.components.sor(f);this.oneways.sor(f);},commonDraw:function(_,e){_.show=false;if(!_.redraw){$.Assert.isTrue(_.Rendered,_.type+' has not rendered');$.Assert.isTrue(_.data&&_.data.length>0,_.type+'\'s data is empty');$.Assert.isTrue(_.initialization,_.type+' Failed to initialize');_.doSort();}
_.redraw=true;if(!_.Animationed&&_.get('animation')){_.runAnimation(_);return;}
_.segmentRect();_.components.eachAll(function(c){c.draw(e);});_.components.eachAll(function(c){if(c.last)c.last(c);});_.oneways.each(function(o){o.draw()});_.show=true;},plugin:function(c){var _=this._();c.inject(_);if(c.ICHARTJS_CHART){c.Combination=true;c.setUp();}
if(!_.get('animation')){c.push('animation',false);}
c.duration=_.duration;_.register(c);_.plugins.push(c);},destroy:function(_){_.components.eachAll(function(C){C.destroy();});_.oneways.each(function(O){O.destroy();});},getTitle:function(){return this.title;},getSubTitle:function(){return this.subtitle;},getFootNote:function(){return this.footnote;},getDrawingArea:function(){return{x:this.get("l_originx"),x:this.get("t_originy"),width:this.get("client_width"),height:this.get("client_height")}},create:function(_,shell){if(_.get('fit')){var w=window.innerWidth,h=window.innerHeight,style=$.getDoc().body.style;style.padding="0px";style.margin="0px";style.overflow="hidden";_.push(_.W,w);_.push(_.H,h);}
_.canvasid=$.uid(_.type);_.shellid="shell-"+_.canvasid;var H=[];H.push("<div id='");H.push(_.shellid);H.push("' style='padding:0px;margin:0px;overflow:hidden;position:relative;'>");H.push("<canvas id= '");H.push(_.canvasid);H.push("' style='-webkit-text-size-adjust: none;'>");H.push("<p>Your browser does not support the canvas element</p></canvas>");H.push("</div>");shell.innerHTML=H.join("");_.shell=$(_.shellid);_.T=_.target=new Cans(_.canvasid);_.size(_);_.Rendered=true;},setUp:function(){var _=this._();_.redraw=false;_.T.clearRect();_.initialization=false;_.initialize();},load:function(d){var _=this._();_.push('data',d||[]);_.setUp();(_.Combination?_.root:_).draw();},resize:function(w,h){w=$.parseFloat(w);h=$.parseFloat(h);var _=this._();if(!_.Combination){_.width=_.push(_.W,w);_.height=_.push(_.H,h);_.size(_);}
_.set(_.fireEvent(_,'resize',[w,h]));_.setUp();_.plugins.eachAll(function(P){if(P.Combination){P.resize(w,h);}});if(!_.Combination){_.draw();}},size:function(_){_.T.canvas.width=_.width=_.pushIf(_.W,400);_.T.canvas.height=_.height=_.pushIf(_.H,300);_.shell.style.width=_.width+'px';_.shell.style.height=_.height+'px';},initialize:function(){var _=this._(),d=_.get('data'),r=_.get('render');_.push(_.X,null);_.push(_.Y,null);if(_.Combination){$.apply(_.options,$.clone([_.W,_.H,'padding','border','client_height','client_width','minDistance','maxDistance','centerx','centery','l_originx','r_originx','t_originy','b_originy'],_.root.options,true));_.width=_.get(_.W);_.height=_.get(_.H);_.shell=_.root.shell;_.Rendered=true;}else if(!_.Rendered){if(r)
_.create(_,$(r));}
if(_.Rendered&&!_.initialization){if(d&&d.length>0){parse.call(_,d,_);}else if($.isString(_.get('url'))){_.ajax.call(_,_.get('url'),function(D){_.push('data',D);_.initialize();_.draw();});}}},eventOff:function(){this.stopEvent=true},eventOn:function(){this.stopEvent=false},oneWay:function(_){_.T.strokeStyle(true,0,_.get('strokeStyle'),_.get('lineJoin'));_.processAnimation=_.get('animation');if($.isFunction(_.get('doAnimation'))){_.doAnimation=_.get('doAnimation');}
_.animationArithmetic=$.getAA(_.get('animation_timing_function'));var E=_.variable.event,comb=_.Combination,tot=!_.get('turn_off_touchmove')&&!comb,mCSS=!$.touch&&_.get('default_mouseover_css')&&!comb,O,AO,events=$.touch?['touchstart','touchmove']:['click','mousemove'];_.stopEvent=false;_.A_draw=comb&&_.processAnimation;$.register(_);if(!comb){events.each(function(it){_.T.addEvent(it,function(e){if(_.processAnimation||_.stopEvent)
return;if(e.targetTouches&&e.targetTouches.length!=1){return;}
_.fireEvent(_,it,[_,$.Event.fix(e)]);},false);});}
_.on(events[0],function(_,e){_.components.eachAll(function(C){if(C.ICHARTJS_CHART){if(C.fireEvent(C,events[0],[C,e])){E.click=true;return false;}}else{var M=C.isMouseOver(e);if(M.valid){E.click=true;C.fireEvent(C,'click',[C,e,M]);return!e.stopPropagation;}}});if(E.click){if(tot)
e.event.preventDefault();E.click=false;return true;}});if(!$.touch||tot){_.on(events[1],function(_,e){O=AO=false;_.components.eachAll(function(C){if(C.ICHARTJS_CHART){if(C.fireEvent(C,events[1],[C,e])){O=true;return false;}}else{var cE=C.variable.event,M=C.isMouseOver(e);if(M.valid){O=O||C.atomic;if(!cE.mouseover){cE.mouseover=true;C.fireEvent(C,'mouseover',[C,e,M]);}
C.fireEvent(C,'mousemove',[C,e,M]);if(M.stop){return false;}}else{if(cE.mouseover){cE.mouseover=false;C.fireEvent(C,'mouseout',[C,e,M]);}}
return!e.stopPropagation;}});if(E.mouseover){e.event.preventDefault();if(!O){E.mouseover=false;_.fireEvent(_,'mouseout',[_,e]);}
return E.mouseover;}else{if(O){E.mouseover=O;_.fireEvent(_,'mouseover',[_,e]);}}});if(mCSS){_.on('mouseover',function(){_.T.css("cursor","pointer");}).on('mouseout',function(){_.T.css("cursor","default");});}}
$.applyIf(_.get('sub_option'),$.clone(['shadow','tip'],_.options,true));if(!_.Combination){_.bg=new $.Custom({z_index:-1,drawFn:function(){_.T.box(0,0,_.width,_.height,_.get('border'),_.get('f_color'),0,0,true);}});_.duration=ceil(_.get('animation_duration')*$.FRAME/1000);}
_.oneWay=$.emptyFn;},originXY:function(_,x,y){var A=_.get('align');if(A==_.L){_.pushIf(_.X,x[0]);}else if(A==_.R){_.pushIf(_.X,x[1]);}else{_.pushIf(_.X,x[2]);}
_.x=_.push(_.X,_.get(_.X)+_.get('offsetx'));_.y=_.push(_.Y,y[0]+_.get('offsety'));return{x:_.x,y:_.y}},getPercent:function(v,T){return this.get('showpercent')?(v/(T||this.total||1)*100).toFixed(this.get('decimalsnum'))+'%':v;},doActing:function(_,d,o,i,t){var f=!!_.get('communal_acting'),v=_.getPercent(d.value,d.total);_.push(f?'sub_option':'communal_acting',$.clone(_.get(f?'communal_acting':'sub_option'),true));$.merge(_.get('sub_option'),d);$.merge(_.get('sub_option'),o);_.push('sub_option.value',v);_.push('sub_option.value_',d.value);if(_.get('sub_option.tip.enable')){_.push('sub_option.tip.text',t||(d.name+' '+v));_.push('sub_option.tip.name',d.name);_.push('sub_option.tip.index',i);_.push('sub_option.tip.value',d.value);_.push('sub_option.tip.total',d.total||_.total);}},register:function(c){c.id=$.uid(c.type);this.components.push(c);return c;},remove:function(_,c){if(c)
_.components.each(function(C,i){if(c.id==C.id){_.components.splice(i,1);return false;}});},doConfig:function(){$.Chart.superclass.doConfig.call(this);var _=this._();_.destroy(_);_.oneways.length=0;_.oneWay(_);_.push('communal_acting',0);if(!_.Combination){_.oneways.push(_.bg);_.push('r_originx',_.width-_.get('padding_right'));_.push('b_originy',_.height-_.get('padding_bottom'));_.applyGradient();if($.isString(_.get('title'))){_.push('title',$.applyIf({text:_.get('title')},_.default_.title));}
if($.isString(_.get('subtitle'))){_.push('subtitle',$.applyIf({text:_.get('subtitle')},_.default_.subtitle));}
if($.isString(_.get('footnote'))){_.push('footnote',$.applyIf({text:_.get('footnote')},_.default_.footnote));}
var H=0,l=_.push('l_originx',_.get('padding_left')),t=_.push('t_originy',_.get('padding_top')),w=_.push('client_width',(_.width-_.get('hpadding'))),h;if(_.get('title.text')!=''){var st=_.get('subtitle.text')!='';H=st?_.get('title.height')+_.get('subtitle.height'):_.get('title.height');t=_.push('t_originy',t+H);_.push('title.originx',l);_.push('title.originy',_.get('padding_top'));_.push('title.maxwidth',w);_.pushIf('title.width',w);_.title=new $.Text(_.get('title'),_);_.oneways.push(_.title);if(st){_.push('subtitle.originx',l);_.push('subtitle.originy',_.get('padding_top')+_.get('title.height'));_.pushIf('subtitle.width',w);_.push('subtitle.maxwidth',w);_.subtitle=new $.Text(_.get('subtitle'),_);_.oneways.push(_.subtitle);}}
if(_.get('footnote.text')!=''){var g=_.get('footnote.height');H+=g;_.push('b_originy',_.get('b_originy')-g);_.push('footnote.originx',l);_.push('footnote.originy',_.get('b_originy'));_.push('footnote.maxwidth',w);_.pushIf('footnote.width',w);_.footnote=new $.Text(_.get('footnote'),_);_.oneways.push(_.footnote);}
h=_.push('client_height',(_.get(_.H)-_.get('vpadding')-_.pushIf('other_height',H)));_.push('minDistance',min(w,h));_.push('maxDistance',max(w,h));_.push('centerx',l+w/2);_.push('centery',t+h/2);}
if(_.get('legend.enable')){_.legend=new $.Legend($.apply({maxwidth:_.get('client_width'),data:_.data},_.get('legend')),_);_.oneways.push(_.legend);}
_.push('sub_option.tip.wrap',_.push('tip.wrap',_.shell));}});})($);$.Custom=$.extend($.Component,{configure:function(){$.Custom.superclass.configure.apply(this,arguments);this.type='custom';this.set({drawFn:$.emptyFn,configFn:$.emptyFn,eventValid:undefined,animating_draw:true});},doDraw:function(_){_.get('drawFn').call(_,_);},isEventValid:function(e,_){if($.isFunction(this.get('eventValid')))
return this.get('eventValid').call(this,e,_);return{valid:false};},doConfig:function(){$.Custom.superclass.doConfig.call(this);var _=this._();_.A_draw=_.get('animating_draw');_.variable.animation={animating:false,time:0};_.duration=0;_.get('configFn').call(_,_);}});$.Scale=$.extend($.Component,{configure:function(){$.Scale.superclass.configure.apply(this,arguments);this.type='scale';this.set({position:'left',which:'h',basic_value:0,scale2grid:true,distance:undefined,start_scale:0,end_scale:undefined,min_scale:undefined,max_scale:undefined,scale_space:undefined,scale_share:5,scale_enable:true,scale_size:1,scale_width:4,scale_color:'#333333',scaleAlign:'center',labels:[],label:{},text_space:6,textAlign:'left',decimalsnum:0,join_style:'none',join_size:2});this.registerEvent('parseText');},isEventValid:function(){return{valid:false};},getScale:function(_){var u=[_.get('basic_value'),_.get('start_scale'),_.get('end_scale'),_.get('end_scale')-_.get('start_scale'),0];u[4]=$.inRange(u[1],u[2]+1,u[0])||$.inRange(u[2]-1,u[1],u[0]);return{range:u[4],basic:u[4]?(u[0]-u[1])/u[3]:0,start:u[4]?u[0]:u[1],end:u[2],distance:u[3]}},doDraw:function(_){if(_.get('scale_enable'))
_.items.each(function(item){_.T.line(item.x0,item.y0,item.x1,item.y1,_.get('scale_size'),_.get('scale_color'),false);});_.labels.each(function(l){l.draw();});},doLayout:function(x,y,_){if(_.get('scale_enable'))
_.items.each(function(item){item.x0+=x;item.y0+=y;item.x1+=x;item.y1+=y;});_.labels.each(function(l){l.doLayout(x,y,0,l);});},doConfig:function(){$.Scale.superclass.doConfig.call(this);var _=this._(),abs=Math.abs,customL=_.get('labels').length,min_s=_.get('min_scale'),max_s=_.get('max_scale'),s_space=_.get('scale_space'),e_scale=_.get('end_scale'),start_scale=_.get('start_scale');_.items=[];_.labels=[];_.number=0;if(customL>0){_.number=customL-1;}else{if(start_scale>min_s){start_scale=_.push('start_scale',$.floor(min_s));}
if(!$.isNumber(e_scale)||e_scale<max_s){e_scale=$.ceil(max_s);e_scale=_.push('end_scale',(!e_scale&&!start_scale)?1:e_scale);}
if(s_space&&abs(s_space)<abs(e_scale-start_scale)){_.push('scale_share',(e_scale-start_scale)/s_space);}
_.number=_.push('scale_share',abs(_.get('scale_share')));if(!s_space||s_space>(e_scale-start_scale)){var W=((e_scale-start_scale)+"").indexOf('.')+1,M=1;while(W>0){W--;M*=10;}
s_space=_.push('scale',(e_scale-start_scale)*M/_.get('scale_share')/M);}
if(parseInt(s_space)!=s_space&&_.get('decimalsnum')==0){_.push('decimalsnum',(s_space+"").substring((s_space+"").indexOf('.')+1).length);}}
_.push('distanceOne',_.get('valid_distance')/_.number);var text,x,y,x1=0,y1=0,x0=0,y0=0,tx=0,ty=0,w=_.get('scale_width'),w2=w/2,sa=_.get('scaleAlign'),ta=_.get('position'),ts=_.get('text_space'),tbl='',aw=_.get('coo').get('axis.width');_.push('which',_.get('which').toLowerCase());_.isH=_.get('which')=='h';if(_.isH){if(sa==_.O){y0=-w;}else if(sa==_.C){y0=-w2;y1=w2;}else{y1=w;}
if(ta==_.O){ty=-ts-aw[0];tbl=_.B;}else{ty=ts+aw[2];tbl=_.O;}
ta=_.C;}else{if(sa==_.L){x0=-w;}else if(sa==_.C){x0=-w2;x1=w2;}else{x1=w;}
tbl='middle';if(ta==_.R){ta=_.L;tx=ts+aw[1];}else{ta=_.R;tx=-ts-aw[3];}}
for(var i=0;i<=_.number;i++){text=customL?_.get('labels')[i]:(s_space*i+start_scale).toFixed(_.get('decimalsnum'));x=_.isH?_.get('valid_x')+i*_.get('distanceOne'):_.x;y=_.isH?_.y:_.get('valid_y')+_.get('valid_distance')-i*_.get('distanceOne');_.items.push({x:x,y:y,x0:x+x0,y0:y+y0,x1:x+x1,y1:y+y1});if(_.get('label'))
_.labels.push(new $.Text($.applyIf($.apply(_.get('label'),$.merge({text:text,x:x,y:y,originx:x+tx,originy:y+ty},_.fireEvent(_,'parseText',[text,x+tx,y+ty,i,_.number==i]))),{textAlign:ta,textBaseline:tbl}),_));}}});$.Coordinate={coordinate_:function(g){var _=this._(),coo=_.get('coordinate');if(coo.ICHARTJS_OBJECT){_.x=_.push(_.X,coo.x);_.y=_.push(_.Y,coo.y);_.ILLUSIVE_COO=true;return coo;}
var f='85%',parse=$.parsePercent,scale=_.get('coordinate.scale'),li=_.get('scaleAlign'),w=_.push('coordinate._width',parse(_.get('coordinate.width')||f,Math.floor(_.get('client_width'))));h=_.push('coordinate._height',parse(_.get('coordinate.height')||f,Math.floor(_.get('client_height')))-(_.is3D()?((_.get('coordinate.pedestal_height')||22)+(_.get('coordinate.board_deep')||20)):0));_.push('coordinate.valid_height_value',parse(_.get('coordinate.valid_height'),h));_.push('coordinate.valid_width_value',parse(_.get('coordinate.valid_width'),w));_.originXY(_,[_.get('l_originx'),_.get('r_originx')-w,_.get('centerx')-w/2],[_.get('centery')-h/2]);_.push('coordinate.originx',_.x);_.push('coordinate.originy',_.y);if(g)g();if($.isObject(scale)){scale=[scale];}
if($.isArray(scale)){var ST=_.dataType!='stacked';scale.each(function(s){if(_.get('percent')&&s.position==li){s=$.apply(s,{start_scale:0,end_scale:100,scale_space:10,listeners:{parseText:function(t,x,y){return{text:t+'%'}}}});}
if(!s.start_scale||(ST&&s.start_scale>_.get('minValue')))
s.min_scale=_.get('minValue');if(!s.end_scale||(ST&&s.end_scale<_.get('maxValue')))
s.max_scale=_.get('maxValue');});}else{_.push('coordinate.scale',{position:li,scaleAlign:li,max_scale:_.get('maxValue'),min_scale:_.get('minValue')});}
if(_.is3D()){_.push('coordinate.xAngle_',_.get('xAngle_'));_.push('coordinate.yAngle_',_.get('yAngle_'));_.push('coordinate.zHeight',_.get('zHeight')*_.get('bottom_scale'));}
_.remove(_,_.coo);return _.register(new $[_.is3D()?'Coordinate3D':'Coordinate2D'](_.get('coordinate'),_));;}}
$.Coordinate2D=$.extend($.Component,{configure:function(){$.Coordinate2D.superclass.configure.apply(this,arguments);this.type='coordinate2d';this.set({sign_size:12,sign_space:5,scale:[],width:'85%',height:'85%',valid_width:'100%',valid_height:'100%',grid_line_width:1,grid_color:'#dbe1e1',gridHStyle:{},gridVStyle:{},gridlinesVisible:true,scale2grid:true,grids:undefined,ignoreOverlap:true,ignoreEdge:false,xlabel:'',ylabel:'',background_color:0,striped:true,striped_direction:'v',striped_factor:0.01,crosshair:{enable:false},z_index:-1,axis:{enable:true,color:'#666666',width:1}});this.scale=[];this.gridlines=[];},getScale:function(p,L){var _=this._(),r;for(var i=0;i<_.scale.length;i++){if(_.scale[i].get('position')==p){return _.scale[i].getScale(_.scale[i]);}}
if(!L){if(p==_.L){p=_.R;}else if(p==_.R){p=_.L;}else if(p==_.O){p=_.B;}else{p=_.O;}
return _.getScale(p,true);}
throw new Error("there no valid scale");},isEventValid:function(e,_){return{valid:e.x>_.x&&e.x<(_.x+_.width)&&e.y<_.y+_.height&&e.y>_.y};},doDraw:function(_){_.T.box(_.x,_.y,_.width,_.height,0,_.get('f_color'));if(_.get('striped')){var x,y,f=false,axis=_.get('axis.width'),c=$.dark(_.get('background_color'),_.get('striped_factor'),0);}
var v=(_.get('striped_direction')=='v');_.gridlines.each(function(g,i){if(_.get('striped')){if(f){if(v)
_.T.box(g.x1,g.y1+g.width,g.x2-g.x1,y-g.y1-g.width,0,c);else
_.T.box(x+g.width,g.y2,g.x1-x,g.y1-g.y2,0,c);}
x=g.x1;y=g.y1;f=!f;}}).each(function(g){if(!g.overlap){if(g.solid){_.T.line(g.x1,g.y1,g.x2,g.y2,g.width,g.color);}else{_.T.dotted(g.x1,g.y1,g.x2,g.y2,g.width,g.color,g.size,g.fator);}}});_.T.box(_.x,_.y,_.width,_.height,_.get('axis'),false,_.get('shadow'),true);_.scale.each(function(s){s.draw()});},destroy:function(){if(this.crosshair){this.crosshair.destroy();}},doCrosshair:function(_){if(_.get('crosshair.enable')&&!_.crosshair){_.push('crosshair.wrap',_.root.shell);_.push('crosshair.height',_.height);_.push('crosshair.width',_.width);_.push('crosshair.top',_.y);_.push('crosshair.left',_.x);_.crosshair=new $.CrossHair(_.get('crosshair'),_);}},doConfig:function(){$.Coordinate2D.superclass.doConfig.call(this);var _=this._();_.atomic=false;_.width=_.get('_width');_.height=_.get('_height');_.valid_width=_.get('valid_width_value');_.valid_height=_.get('valid_height_value');if(_.get('gradient')&&$.isString(_.get('f_color'))){_.push('f_color',_.T.avgLinearGradient(_.x,_.y,_.x,_.y+_.height,[_.get('dark_color'),_.get('light_color')]));}
if(_.get('axis.enable')){var aw=_.get('axis.width');if(!$.isArray(aw))
_.push('axis.width',[aw,aw,aw,aw]);}else{_.push('axis.width',[0,0,0,0]);}
_.doCrosshair(_);var jp,cg=!!(_.get('gridlinesVisible')&&_.get('grids')),hg=cg&&!!_.get('grids.horizontal'),vg=cg&&!!_.get('grids.vertical'),h=_.height,w=_.width,vw=_.valid_width,vh=_.valid_height,k2g=_.get('gridlinesVisible')&&_.get('scale2grid')&&!(hg&&vg),sw=_.push('x_start',_.x+(w-vw)/2),sh=_.push('y_start',_.y+(h-vh)/2),axis=_.get('axis.width');_.push('x_end',_.x+(w+vw)/2);_.push('y_end',_.y+(h+vh)/2);if(!$.isArray(_.get('scale'))){if($.isObject(_.get('scale')))
_.push('scale',[_.get('scale')]);else
_.push('scale',[]);}
_.get('scale').each(function(kd,i){jp=kd['position'];jp=jp||_.L;jp=jp.toLowerCase();kd[_.X]=_.x;kd['coo']=_;kd[_.Y]=_.y;kd['valid_x']=sw;kd['valid_y']=sh;kd['position']=jp;if(jp==_.O){kd['which']='h';kd['distance']=w;kd['valid_distance']=vw;}else if(jp==_.R){kd['which']='v';kd['distance']=h;kd['valid_distance']=vh;kd[_.X]+=w;kd['valid_x']+=vw;}else if(jp==_.B){kd['which']='h';kd['distance']=w;kd['valid_distance']=vw;kd[_.Y]+=h;kd['valid_y']+=vh;}else{kd['which']='v';kd['distance']=h;kd['valid_distance']=vh;}
_.scale.push(new $.Scale(kd,_.root));},_);var iol=_.push('ignoreOverlap',_.get('ignoreOverlap')&&_.get('axis.enable')||_.get('ignoreEdge'));if(iol){if(_.get('ignoreEdge')){var ignoreOverlap=function(w,x,y){return w=='v'?(y==_.y)||(y==_.y+h):(x==_.x)||(x==_.x+w);}}else{var ignoreOverlap=function(wh,x,y){return wh=='v'?(y==_.y&&axis[0]>0)||(y==(_.y+h)&&axis[2]>0):(x==_.x&&axis[3]>0)||(x==(_.x+w)&&axis[1]>0);}}}
var g={solid:true,size:10,fator:1,width:_.get('grid_line_width'),color:_.get('grid_color')},ghs=$.applyIf(_.get('gridHStyle'),g),gvs=$.applyIf(_.get('gridVStyle'),g);if(k2g){var scale,x,y,p;_.scale.each(function(scale){p=scale.get('position');if($.isFalse(scale.get('scale2grid'))||hg&&scale.get('which')=='v'||vg&&scale.get('which')=='h'){return;}
x=y=0;if(p==_.O){y=h;}else if(p==_.R){x=-w;}else if(p==_.B){y=-h;}else{x=w;}
scale.items.each(function(e){if(iol)
_.gridlines.push($.applyIf({overlap:ignoreOverlap.call(_,scale.get('which'),e.x,e.y),x1:e.x,y1:e.y,x2:e.x+x,y2:e.y+y},scale.isH?gvs:ghs));});});}
if(vg){var gv=_.get('grids.vertical');$.Assert.isTrue(gv['value']>0,'vertical value');var d=w/gv['value'],n=gv['value'];if(gv['way']=='given_value'){n=d;d=gv['value'];d=d>w?w:d;}
for(var i=0;i<=n;i++){if(iol)
_.gridlines.push($.applyIf({overlap:ignoreOverlap.call(_,'h',_.x+i*d,_.y),x1:_.x+i*d,y1:_.y,x2:_.x+i*d,y2:_.y+h,H:false,width:gvs.width,color:gvs.color},gvs));}}
if(hg){var gh=_.get('grids.horizontal');$.Assert.isTrue(gh['value']>0,'horizontal value');var d=h/gh['value'],n=gh['value'];if(gh['way']=='given_value'){n=d;d=gh['value'];d=d>h?h:d;}
for(var i=0;i<=n;i++){if(iol)
_.gridlines.push($.applyIf({overlap:ignoreOverlap.call(_,'v',_.x,_.y+i*d),x1:_.x,y1:_.y+i*d,x2:_.x+w,y2:_.y+i*d,H:true,width:ghs.width,color:ghs.color},ghs));}}}});$.Coordinate3D=$.extend($.Coordinate2D,{configure:function(){$.Coordinate3D.superclass.configure.apply(this,arguments);this.type='coordinate3d';this.dimension=$._3D;this.set({xAngle:60,yAngle:20,xAngle_:undefined,yAngle_:undefined,zHeight:0,pedestal_height:22,board_deep:20,left_board:true,gradient:true,color_factor:0.18,ignoreEdge:true,striped:false,grid_color:'#a4ad96',background_color:'#d6dbd2',shadow_offsetx:4,shadow_offsety:2,wall_style:[],axis:{enable:false}});},doDraw:function(_){var w=_.width,h=_.height,xa=_.get('xAngle_'),ya=_.get('yAngle_'),zh=_.get('zHeight'),offx=_.get('z_offx'),offy=_.get('z_offy');if(_.get('pedestal_height'))
_.T.cube3D(_.x,_.y+h+_.get('pedestal_height'),xa,ya,false,w,_.get('pedestal_height'),zh*3/2,_.get('axis.enable'),_.get('axis.width'),_.get('axis.color'),_.get('bottom_style'));if(_.get('board_deep'))
_.T.cube3D(_.x+offx,_.y+h-offy,xa,ya,false,w,h,_.get('board_deep'),_.get('axis.enable'),_.get('axis.width'),_.get('axis.color'),_.get('board_style'));_.T.cube3D(_.x,_.y+h,xa,ya,false,w,h,zh,_.get('axis.enable'),_.get('axis.width'),_.get('axis.color'),_.get('wall_style'));_.gridlines.each(function(g){if(g.solid){if(_.get('left_board'))
_.T.line(g.x1,g.y1,g.x1+offx,g.y1-offy,g.width,g.color);_.T.line(g.x1+offx,g.y1-offy,g.x2+offx,g.y2-offy,g.width,g.color);}else{if(_.get('left_board'))
_.T.dotted(g.x1,g.y1,g.x1+offx,g.y1-offy,g.width,g.color,g.size,g.fator);_.T.dotted(g.x1+offx,g.y1-offy,g.x2+offx,g.y2-offy,g.width,g.color,g.size,g.fator);}});_.scale.each(function(s){s.draw();});},doConfig:function(){$.Coordinate3D.superclass.doConfig.call(this);var _=this._(),ws=_.get('wall_style'),bg=_.get('background_color')||'#d6dbd2',h=_.height,w=_.width,f=_.get('color_factor'),offx=_.push('z_offx',_.get('xAngle_')*_.get('zHeight')),offy=_.push('z_offy',_.get('yAngle_')*_.get('zHeight'));while(ws.length<6){ws.push({color:bg});}
if(!_.get('left_board')){ws[2]=false;_.scale.each(function(s){s.doLayout(offx,-offy,s);});}
_.push('bottom_style',[{color:_.get('shadow_color'),shadow:_.get('shadow')},false,false,{color:ws[3].color},false,{color:ws[3].color}]);_.push('board_style',[false,false,false,{color:ws[4].color},{color:ws[5].color},false]);if(_.get('gradient')){if($.isString(ws[0].color)){ws[0].color=_.T.avgLinearGradient(_.x,_.y+h,_.x+w,_.y+h,[$.dark(ws[0].color,f/2+0.06),$.dark(ws[0].color,f/2+0.06)]);}
if($.isString(ws[1].color)){ws[1].color=_.T.avgLinearGradient(_.x+offx,_.y-offy,_.x+offx,_.y+h-offy,[$.dark(ws[1].color,f),$.light(ws[1].color,f)]);}
if($.isString(ws[2].color)){ws[2].color=_.T.avgLinearGradient(_.x,_.y,_.x,_.y+h,[$.light(ws[2].color,f/3),$.dark(ws[2].color,f)]);}
_.get('bottom_style')[5].color=_.T.avgLinearGradient(_.x,_.y+h,_.x,_.y+h+_.get('pedestal_height'),[$.light(ws[3].color,f/2+0.06),$.dark(ws[3].color,f/2,0)]);}
_.push('wall_style',[ws[0],ws[1],ws[2]]);}});$.Rectangle=$.extend($.Component,{configure:function(){$.Rectangle.superclass.configure.apply(this,arguments);this.type='rectangle';this.set({width:0,height:0,value_space:4,value:'',label:{},name:'',tipAlign:'top',valueAlign:'top',shadow_blur:3,shadow_offsety:-1});this.atomic=true;this.registerEvent('parseText');this.label=null;},last:function(_){if(_.label)
_.label.draw();},doDraw:function(_){_.drawRectangle();},doConfig:function(){$.Rectangle.superclass.doConfig.call(this);var _=this._(),v=_.variable.event,vA=_.get('valueAlign');$.taylor.light(_,v);_.width=_.get(_.W);_.height=_.get(_.H);var x=_.push('centerx',_.x+_.width/2),y=_.push('centery',_.y+_.height/2),a=_.C,b='middle',s=_.get('value_space');if(vA==_.L){a=_.R;x=_.x-s;}else if(vA==_.R){a=_.L;x=_.x+_.width+s;}else if(vA==_.B){y=_.y+_.height+s;b=_.O;}else if(vA==_.O){y=_.y-s;b=_.B;}
if(_.get('label')){_.push('label.originx',x);_.push('label.originy',y);_.push('label.text',_.push('value',_.fireString(_,'parseText',[_,_.get('value')],_.get('value'))));$.applyIf(_.get('label'),{textAlign:a,textBaseline:b,color:_.get('color')});_.label=new $.Text(_.get('label'),_);}
if(_.get('tip.enable')){if(_.get('tip.showType')!='follow'){_.push('tip.invokeOffsetDynamic',false);}
_.tip=new $.Tip(_.get('tip'),_);}}});$.Rectangle2D=$.extend($.Rectangle,{configure:function(){$.Rectangle2D.superclass.configure.apply(this,arguments);this.type='rectangle2d';this.set({shadow_offsety:-2});},drawRectangle:function(){var _=this._();_.T.box(_.get(_.X),_.get(_.Y),_.get(_.W),_.get(_.H),_.get('border'),_.get('f_color'),_.get('shadow'));},isEventValid:function(e,_){return{valid:e.x>_.x&&e.x<(_.x+_.width)&&e.y<(_.y+_.height)&&e.y>(_.y)};},tipInvoke:function(){var _=this._();return function(w,h){return{left:_.tipX(w,h),top:_.tipY(w,h)}}},doConfig:function(){$.Rectangle2D.superclass.doConfig.call(this);var _=this._(),tipAlign=_.get('tipAlign');if(tipAlign==_.L||tipAlign==_.R){_.tipY=function(w,h){return _.get('centery')-h/2;};}else{_.tipX=function(w,h){return _.get('centerx')-w/2;};}
if(tipAlign==_.L){_.tipX=function(w,h){return _.x-_.get('value_space')-w;};}else if(tipAlign==_.R){_.tipX=function(w,h){return _.x+_.width+_.get('value_space');};}else if(tipAlign==_.B){_.tipY=function(w,h){return _.y+_.height+3;};}else{_.tipY=function(w,h){return _.y-h-3;};}
_.applyGradient();}});$.Sector=$.extend($.Component,{configure:function(){$.Sector.superclass.configure.apply(this,arguments);this.type='sector';this.set({value:'',name:'',ignored:false,counterclockwise:false,startAngle:0,middleAngle:0,endAngle:0,totalAngle:0,bound_event:'click',expand:false,donutwidth:0,mutex:false,increment:undefined,label_length:undefined,gradient_mode:'RadialGradientOutIn',mini_label_threshold_angle:15,mini_label:false,label:{},rounded:false});this.atomic=true;this.registerEvent('changed','parseText');this.label=null;this.tip=null;},bound:function(){if(!this.expanded)
this.toggle();},rebound:function(){if(this.expanded)
this.toggle();},toggle:function(){this.fireEvent(this,this.get('bound_event'),[this]);},getDimension:function(){var _=this._();return{x:_.x,x:_.y,startAngle:_.get("startAngle"),middleAngle:_.get("middleAngle"),endAngle:_.get("endAngle")}},doDraw:function(_){if(!_.get('ignored')){if(_.label&&!_.get('mini_label')){_.label.draw();}
_.drawSector();if(_.label&&_.get('mini_label')){_.label.draw();}}},doText:function(_,x,y){_.push('label.originx',x);_.push('label.originy',y);_.push('label.textBaseline','middle');_.label=new $.Text(_.get('label'),_);},doLabel:function(_,x,y,Q,p,x0,y0,L){_.push('label.originx',x);_.push('label.originy',y);_.push('label.quadrantd',Q);_.push('label.line_points',p);_.push('label.labelx',x0);_.push('label.labely',y0);_.push('label.smooth',L);_.push('label.angle',_.get('middleAngle')%(Math.PI*2));_.label=new $.Label(_.get('label'),_);},isLabel:function(){return this.get('label')&&!this.get('mini_label');},doConfig:function(){$.Sector.superclass.doConfig.call(this);var _=this._(),v=_.variable.event,f=_.get('label'),event=_.get('bound_event'),g;if(_.get('rounded')){_.push('startAngle',0);_.push('endAngle',Math.PI*2);return;}
$.taylor.light(_,v);_.push('totalAngle',_.get('endAngle')-_.get('startAngle'));if(f){if(_.get('mini_label')){if((_.get('mini_label_threshold_angle')*Math.PI/180)>_.get('totalAngle')){_.push('mini_label',false);}else{$.apply(_.get('label'),_.get('mini_label'));}}
_.push('label.text',_.fireString(_,'parseText',[_,_.get('label.text')],_.get('label.text')));_.pushIf('label.border.color',_.get('border.color'));_.push('label.scolor',_.get('background_color'));}
_.variable.event.status=_.expanded=_.get('expand');if(_.get('tip.enable')){if(_.get('tip.showType')!='follow'){_.push('tip.invokeOffsetDynamic',false);}
_.tip=new $.Tip(_.get('tip'),_);}
v.poped=false;_.on(event,function(){v.poped=true;_.expanded=!_.expanded;_.redraw(event);v.poped=false;});_.on('beforedraw',function(a,b){if(b==event){g=false;_.x=_.get(_.X);_.y=_.get(_.Y);if(_.expanded){if(_.get('mutex')&&!v.poped){_.expanded=false;g=true;}else{_.x+=_.get('inc_x');_.y-=_.get('inc_y');}}
if(v.status!=_.expanded){_.fireEvent(_,'changed',[_,_.expanded]);g=true;v.status=_.expanded;}
if(f&&g)
_.label.doLayout(_.get('inc_x')*(_.expanded?1:-1),-_.get('inc_y')*(_.expanded?1:-1),2,_.label);}
return true;});}});$.Sector2D=$.extend($.Sector,{configure:function(){$.Sector2D.superclass.configure.apply(this,arguments);this.type='sector2d';this.set({radius:0});},drawSector:function(){this.T.sector(this.x,this.y,this.r,this.get('donutwidth'),this.get('startAngle'),this.get('endAngle'),this.get('f_color'),this.get('border.enable'),this.get('border.width'),this.get('border.color'),this.get('shadow'),this.get('counterclockwise'));},isEventValid:function(e,_){if(!_.get('ignored')){if(_.isLabel()&&_.label.isEventValid(e,_.label).valid){return{valid:true};}
var r=$.distanceP2P(_.x,_.y,e.x,e.y),b=_.get('donutwidth');if(_.r<r||(b&&(_.r-b)>r)){return{valid:false};}
if($.angleInRange(_.get('startAngle'),_.get('endAngle'),$.atan2Radian(_.x,_.y,e.x,e.y))){return{valid:true};}}
return{valid:false};},tipInvoke:function(){var _=this,A=_.get('middleAngle'),Q=$.quadrantd(A);return function(w,h){var P=$.p2Point(_.x,_.y,A,_.r*0.8)
return{left:(Q>=1&&Q<=2)?(P.x-w):P.x,top:Q>=2?(P.y-h):P.y}}},doConfig:function(){$.Sector2D.superclass.doConfig.call(this);var _=this._();_.r=_.get('radius');if(_.get('donutwidth')>_.r){_.push('donutwidth',0);}
_.applyGradient(_.x-_.r,_.y-_.r,2*_.r*0.9,2*_.r*0.9);var A=_.get('middleAngle'),L=_.pushIf('increment',$.lowTo(5,_.r/10)),p2;_.push('inc_x',L*Math.cos(2*Math.PI-A));_.push('inc_y',L*Math.sin(2*Math.PI-A));L*=2;if(_.get('label')){if(_.get('mini_label')){P2=$.p2Point(_.x,_.y,A,_.get('donutwidth')?_.r-_.get('donutwidth')/2:_.r*5/8);_.doText(_,P2.x,P2.y);}else{var Q=$.quadrantd(A),P=$.p2Point(_.x,_.y,A,_.r+L),C1=$.p2Point(_.x,_.y,A,_.r+L*0.6);P2=$.p2Point(_.x,_.y,A,_.r);_.doLabel(_,P2.x,P2.y,Q,[{x:P2.x,y:P2.y},{x:C1.x,y:C1.y},{x:P.x,y:P.y}],P.x,P.y,L*0.4);}}}});$.Pie=$.extend($.Chart,{configure:function(){$.Pie.superclass.configure.call(this);this.type='pie';this.set({radius:'100%',offset_angle:0,separate_angle:0,bound_event:'click',counterclockwise:false,intellectLayout:true,layout_distance:4,pop_animate:false,mutex:false,increment:undefined,sub_option:{label:{}}});this.registerEvent('bound','rebound');this.sectors=[];this.components.push(this.sectors);this.ILLUSIVE_COO=true;},toggle:function(i){this.sectors[i||0].toggle();},bound:function(i){this.sectors[i||0].bound();},rebound:function(i){this.sectors[i||0].rebound();},getSectors:function(){return this.sectors;},doAnimation:function(t,d,_){var si=0,cs=_.oA;_.sectors.each(function(s,i){si=_.animationArithmetic(t,0,s.get('totalAngle'),d);s.push('startAngle',cs);s.push('endAngle',cs+=si);if(!_.is3D())
s.drawSector();});if(_.is3D()){_.proxy.drawSector();}},parse:function(_){_.data.each(function(d,i){_.doParse(_,d,i);},_);_.localizer(_);},doParse:function(_,d,i){var t=d.name+' '+_.getPercent(d.value);_.doActing(_,d,null,i,t);_.push('sub_option.id',i);if(_.get('sub_option.label'))
_.push('sub_option.label.text',t);_.push('sub_option.listeners.changed',function(se,st,i){_.fireEvent(_,st?'bound':'rebound',[_,se.get('name')]);});_.sectors.push(_.doSector(_,d));},doSector:function(_){return new $[_.sub](_.get('sub_option'),_);},dolayout:function(_,x,y,l,d,Q){if(_.is3D()?$.inEllipse(_.get(_.X)-x,_.topY-y,_.a,_.b):$.distanceP2P(_.get(_.X),_.topY,x,y)<_.r){y=_.topY-y;l.push('labelx',_.get(_.X)+(Math.sqrt(_.r*_.r-y*y)*2+d)*(Q==0||Q==3?1:-1));l.localizer(l);}},localizer:function(_){if(_.get('intellectLayout')){var unlayout=[],layouted=[],d=_.get('layout_distance'),Q,x,y;_.sectors.each(function(f,i){if(f.isLabel())
unlayout.push(f.label);});unlayout.sor(function(p,q){return Math.abs(Math.sin(p.get('angle')))-Math.abs(Math.sin(q.get('angle')))>0;});unlayout.each(function(la){layouted.each(function(l){x=l.labelx,y=l.labely;if((la.labely<=y&&(y-la.labely-1)<la.get(_.H))||(la.labely>y&&(la.labely-y-1)<l.get(_.H))){if((la.labelx<=x&&(x-la.labelx)<la.get(_.W))||(la.labelx>x&&(la.labelx-x)<l.get(_.W))){Q=la.get('quadrantd');la.push('labely',(la.get('labely')+y-la.labely)+(la.get(_.H)+d)*(Q>1?-1:1));la.localizer(la);_.dolayout(_,la.get('labelx'),la.get('labely')+la.get(_.H)/2*(Q<2?-1:1),la,d,Q);}}},_);layouted.push(la);});}},doConfig:function(){$.Pie.superclass.doConfig.call(this);var _=this._(),V,r=_.get('radius'),f=_.get('sub_option.label')?0.35:0.44,pi2=Math.PI*2;_.sub=_.is3D()?'Sector3D':'Sector2D';_.sectors.zIndex=_.get('z_index');_.sectors.length=0;_.oA=$.angle2Radian(_.get('offset_angle'))%pi2;if(_.is3D())
f+=0.06;var L=_.data.length,sepa=$.angle2Radian($.between(0,90,_.get('separate_angle'))),PI=pi2-sepa,sepa=sepa/L,eA=_.oA+sepa,sA=eA;if(_.total==0){V=1/L;}
_.data.each(function(d,i){eA+=(V||(d.value/_.total))*PI;if(i==(L-1)){eA=pi2+_.oA;}
d.startAngle=sA;d.endAngle=eA;d.totalAngle=eA-sA;d.middleAngle=(sA+eA)/2;sA=eA+sepa;},_);_.r=r=$.parsePercent(r,Math.floor(_.get('minDistance')*f));_.topY=_.originXY(_,[r+_.get('l_originx'),_.get('r_originx')-r,_.get('centerx')],[_.get('centery')]).y;$.apply(_.get('sub_option'),$.clone([_.X,_.Y,'bound_event','mutex','increment'],_.options));}});$.Pie2D=$.extend($.Pie,{configure:function(){$.Pie2D.superclass.configure.call(this);this.type='pie2d';},doConfig:function(){$.Pie2D.superclass.doConfig.call(this);var _=this._();_.push('sub_option.radius',_.r)
_.parse(_);}});$.register('Pie2D');$.Pie3D=$.extend($.Pie,{configure:function(){$.Pie3D.superclass.configure.apply(this,arguments);this.type='pie3d';this.dimension=$._3D;this.set({zRotate:45,yHeight:30});this.positive=true;},doSector:function(_,d){_.push('sub_option.cylinder_height',(d.cylinder_height?d.cylinder_height*_.get('zRotate_'):_.get('cylinder_height')));return new $[_.sub](_.get('sub_option'),_);},one:function(_){var layer,spaint,L=[],c=_.get('counterclockwise'),abs=function(n,M){return 1+Math.sin(M?(n+Math.PI):n);},t='startAngle',d='endAngle',Q,s,e
lay=function(C,g,z,f){Q=$.quadrantd(g);if(C&&(Q==0||Q==3)||(!C&&(Q==2||Q==1))){layer.push({g:g,z:g==z,x:f.x,y:f.y,a:f.a,b:f.b,color:$.dark(f.get('background_color')),h:f.h,F:f});}};_.proxy=new $.Custom({z_index:_.get('z_index')+1,drawFn:function(){this.drawSector();L=[];_.sectors.each(function(s){if(s.get('label')){if(s.expanded)
L.push(s.label);else
s.label.draw();}});L.each(function(l){l.draw()});}});_.proxy.drawSector=function(){_.sectors.each(function(s,i){_.T.ellipse(s.x,s.y+s.h,s.a,s.b,s.get(t),s.get(d),0,s.get('border.enable'),s.get('border.width'),s.get('border.color'),s.get('shadow'),c,true);},_);layer=[];spaint=[];_.sectors.each(function(f){lay(c,f.get(t),f.get(d),f);lay(!c,f.get(d),f.get(t),f);spaint=spaint.concat($.visible(f.get(t),f.get(d),f));},_);layer.sor(function(p,q){var r=abs(p.g)-abs(q.g);return r==0?p.z:r>0;});layer.each(function(f,i){_.T.sector3D.layerDraw.call(_.T,f.x,f.y,f.a+0.5,f.b+0.5,c,f.h,f.g,f.color);},_);if(!_.processAnimation){spaint.sor(function(p,q){return abs((p.s+p.e)/2,1)-abs((q.s+q.e)/2,1)<0;});}
spaint.each(function(s,i){_.T.sector3D.sPaint.call(_.T,s.f.x,s.f.y,s.f.a,s.f.b,s.s,s.e,c,s.f.h,s.f.get('f_color'));},_);_.sectors.each(function(s,i){_.T.ellipse(s.x,s.y,s.a,s.b,s.get(t),s.get(d),s.get('f_color'),s.get('border.enable'),s.get('border.width'),s.get('border.color'),false,false,true);},_);}
_.one=$.emptyFn;},doConfig:function(){$.Pie3D.superclass.doConfig.call(this);var _=this._(),z=$.angle2Radian(_.get('zRotate'));_.push('cylinder_height',_.get('yHeight')*_.push('zRotate_',Math.abs(Math.cos(z))));_.a=_.push('sub_option.semi_major_axis',_.r);_.b=_.push('sub_option.semi_minor_axis',_.r*Math.abs(Math.sin(z)));_.topY=_.push('sub_option.originy',_.get(_.Y)-_.get('yHeight')/2);_.parse(_);_.one(_);_.components.push(_.proxy);}});$.register('Pie3D');$.Donut2D=$.extend($.Pie,{configure:function(){$.Donut2D.superclass.configure.call(this);this.type='donut2d';this.set({donutwidth:0.3,center:{text:'',line_height:24,fontweight:'bold',fontsize:24}});},doConfig:function(){$.Donut2D.superclass.doConfig.call(this);var _=this._(),d='donutwidth',r=_.r;_.push('sub_option.radius',r)
if(_.get(d)>0){if(_.get(d)<1){_.push(d,Math.floor(r*_.get(d)));}else if(_.get(d)>=r){_.push(d,0);}
_.push('sub_option.donutwidth',_.get(d));}
if($.isString(_.get('center'))){_.push('center',$.applyIf({text:_.get('center')},_.default_.center));}
if(_.get('center.text')!=''){_.push('center.originx',_.get(_.X));_.push('center.originy',_.get(_.Y));_.push('center.textBaseline','middle');_.center=new $.Text(_.get('center'),_);_.components.push(_.center);}
_.parse(_);}});$.register('Donut2D');$.Column=$.extend($.Chart,{configure:function(config){$.Column.superclass.configure.call(this);this.type='column';this.set({coordinate:{},column_width:undefined,column_space:undefined,text_space:6,scaleAlign:'left',sub_option:{},label:{}});this.registerEvent();this.rectangles=[];this.labels=[];this.components.push(this.labels);this.components.push(this.rectangles);},doAnimation:function(t,d,_){var h;_.labels.each(function(l){l.draw();});_.rectangles.each(function(r){h=Math.ceil(_.animationArithmetic(t,0,r.height,d));r.push(_.Y,r.y+(r.height-h));r.push(_.H,h);r.drawRectangle();});},getCoordinate:function(){return this.coo;},doLabel:function(_,id,text,x,y){_.labels.push(new $.Text($.apply(_.get('label'),{id:id,text:text,originx:x,originy:y}),_));},doParse:function(_,d,i,o){_.doActing(_,d,o,i);},engine:function(_){var cw=_.get('column_width'),s=_.get('column_space'),S=_.coo.getScale(_.get('scaleAlign')),H=_.coo.valid_height,w2=cw/2,q=cw*(_.get('group_fator')||0),gw=_.dataType!='complex'?(cw+s):(_.data.length*cw+s+(_.is3D()?(_.data.length-1)*q:0)),y0=_.coo.get('y_end'),y=y0-S.basic*H-(_.is3D()?(_.get('zHeight')*(_.get('bottom_scale')-1)/2*_.get('yAngle_')):0),x=s+_.coo.get('x_start');y0=y0+_.get('text_space')+_.coo.get('axis.width')[2];_.doEngine(_,cw,s,S,H,w2,q,gw,x,y,y0);},doConfig:function(){$.Column.superclass.doConfig.call(this);var _=this._(),c='column_width',z='z_index';_.sub=_.is3D()?'Rectangle3D':'Rectangle2D';_.rectangles.length=0;_.labels.length=0;_.rectangles.zIndex=_.get(z);_.labels.zIndex=_.get(z)+1;_.coo=$.Coordinate.coordinate_.call(_,function(){var L=_.data.length,W=_.get('coordinate.valid_width_value'),w_,hw,KL;if(_.dataType=='complex'){KL=_.get('labels').length;L=KL*L+(_.is3D()?(L-1)*KL*_.get('group_fator'):0);w_=Math.floor(W/(KL+1+L));hw=_.pushIf(c,w_);KL+=1;}else{if(_.dataType=='stacked'){L=_.get('labels').length;}
w_=Math.floor(W*2/(L*3+1));hw=_.pushIf(c,w_);KL=L+1;}
if(hw*L>W){hw=_.push(c,w_);}
_.push('column_space',(W-hw*L)/KL);if(_.is3D()){_.push('zHeight',_.get(c)*_.get('zScale'));_.push('sub_option.zHeight',_.get('zHeight'));_.push('sub_option.xAngle_',_.get('xAngle_'));_.push('sub_option.yAngle_',_.get('yAngle_'));}});_.push('sub_option.width',_.get(c));}});$.Column2D=$.extend($.Column,{configure:function(){$.Column2D.superclass.configure.call(this);this.type='column2d';},doEngine:function(_,cw,s,S,H,w2,q,gw,x,y,y0){var h;_.data.each(function(d,i){h=(d.value-S.start)*H/S.distance;_.doParse(_,d,i,{id:i,originx:x+i*gw,originy:y-(h>0?h:0),height:Math.abs(h)});_.rectangles.push(new $[_.sub](_.get('sub_option'),_));_.doLabel(_,i,d.name,x+gw*i+w2,y0);},_);},doConfig:function(){$.Column2D.superclass.doConfig.call(this);this.engine(this);}});$.register('Column2D');$.Column3D=$.extend($.Column2D,{configure:function(){$.Column3D.superclass.configure.call(this);this.type='column3d';this.dimension=$._3D;this.set({coordinate:{},xAngle:60,yAngle:20,zScale:1,bottom_scale:1.4});},doConfig:function(){$.Column3D.superclass.doConfig.call(this);}});$.register('Column3D');$.ColumnMulti2D=$.extend($.Column,{configure:function(){$.ColumnMulti2D.superclass.configure.call(this);this.type='columnmulti2d';this.dataType='complex';this.set({labels:[]});},doEngine:function(_,cw,s,S,H,w2,q,gw,x,y,y0){var h;_.columns.each(function(c,i){c.item.each(function(d,j){h=(d.value-S.start)*H/S.distance;_.doParse(_,d,j,{id:i+'_'+j,originx:x+j*(cw+q)+i*gw,originy:y-(h>0?h:0),height:Math.abs(h)});_.rectangles.push(new $[_.sub](_.get('sub_option'),_));},_);_.doLabel(_,i,c.name,x-s*0.5+(i+0.5)*gw,y0);},_);},doConfig:function(){$.ColumnMulti2D.superclass.doConfig.call(this);this.engine(this);}});$.register('ColumnMulti2D');$.ColumnMulti3D=$.extend($.ColumnMulti2D,{configure:function(){$.ColumnMulti3D.superclass.configure.call(this);this.type='columnmulti3d';this.dataType='complex';this.dimension=$._3D;this.set({xAngle:60,yAngle:20,zScale:1,group_fator:0.3,bottom_scale:1.4});},doConfig:function(){$.ColumnMulti3D.superclass.doConfig.call(this);}});$.register('ColumnMulti3D');$.ColumnStacked2D=$.extend($.Column,{configure:function(){$.ColumnStacked2D.superclass.configure.call(this);this.type='columnstacked2d';this.dataType='stacked';this.set({percent:false,labels:[],sub_option:{label:{color:'#ffffff'},valueAlign:'middle'}});},doEngine:function(_,cw,s,S,H,w2,q,gw,x,y,y0){var h0,h,v,p=_.get('percent');_.columns.each(function(c,i){h0=0;v=p?100/c.total:1;c.item.each(function(d,j){h=(d.value*v-S.start)*H/S.distance;d.total=c.total;_.doParse(_,d,j,{id:i+'_'+j,originx:x+i*gw,originy:y-(h>0?h:0)-h0,height:Math.abs(h)});h0+=h;_.rectangles.push(new $[_.sub](_.get('sub_option'),_));},_);_.doLabel(_,i,c.name,x-s*0.5+(i+0.5)*gw,y0);},_);},doConfig:function(){$.ColumnStacked2D.superclass.doConfig.call(this);this.engine(this);}});$.register('ColumnStacked2D');$.ColumnStacked3D=$.extend($.ColumnStacked2D,{configure:function(){$.ColumnStacked3D.superclass.configure.call(this);this.type='columnstacked3d';this.dataType='stacked';this.dimension=$._3D;this.set({percent:false,sub_option:{label:{color:'#ffffff'},valueAlign:'middle'},coordinate:{},xAngle:60,yAngle:20,zScale:1,bottom_scale:1.4});},doConfig:function(){$.ColumnStacked3D.superclass.doConfig.call(this);}});$.register('ColumnStacked3D');})(iChart);